{
  "name": "n8nä¿¡æ¯èšåˆå™¨",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€åæ–°é—»ç¼–è¾‘ï¼Œä»»åŠ¡æ˜¯å°†ä¸åŒæ¥æºçš„æ ‡é¢˜ç¿»è¯‘æˆä¸­æ–‡ï¼Œè¦æ±‚ç®€æ´ã€å‡†ç¡®ã€æœ‰é€»è¾‘ã€‚è¯·ç¡®ä¿è¾“å‡ºå…¨æ˜¯ä¸­æ–‡ã€‚è‹¥åªæœ‰ä¸€æ¡é“¾æ¥ï¼Œä¿ç•™é“¾æ¥å³å¯ã€‚\n\nè¾“å…¥ä¿¡æ¯ï¼š\næ ‡é¢˜ï¼š{{ $json[\"æ ‡é¢˜\"] }}\næ—¥æœŸï¼š{{ $json[\"æ—¥æœŸ\"] }}\næ¥æºï¼š{{ $json[\"æ¥æº\"] }}\næ¿å—ï¼š{{ $json[\"æ¿å—\"] }}\né“¾æ¥ï¼š{{ $json[\"é“¾æ¥\"] }}\n\nè‹¥æ ‡é¢˜å†…å®¹å¤§äºä¸‰å¥è¯ï¼Œåˆ™æ ¹æ®æ ‡é¢˜é‡Œæ‰€æœ‰çš„ä¿¡æ¯ç”Ÿæˆä¸€æ®µ60â€“80å­—çš„ä¸­æ–‡æ‘˜è¦ï¼Œéµå¾ªä»¥ä¸‹æ­¥éª¤å’Œæ ¼å¼ï¼š\n\n#æ­¥éª¤\n1. æå–ä¸»è¯­å’Œæ ¸å¿ƒåŠ¨ä½œï¼Œæ ¼å¼ä¸ºâ€œè°åšäº†ä»€ä¹ˆâ€\n2. æ¦‚æ‹¬ä¸»è¦åŠŸèƒ½æˆ–ç”¨é€”ï¼Œæ ¼å¼ä¸ºâ€œå®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Œè¾¾åˆ°ä»€ä¹ˆæ•ˆæœâ€\n3. å¦‚æœ‰äº®ç‚¹æˆ–åˆ›æ–°ç‚¹ï¼Œè¯·åŠ ä»¥æ€»ç»“\n4. å¼ºè°ƒä¸»è§‚æ„ä¹‰æˆ–å½±å“ï¼Œæ ¼å¼ä¸ºâ€œå¯¹ä»€ä¹ˆæœ‰é‡è¦æ„ä¹‰â€\n\n#è¾“å‡ºè¦æ±‚\n- ä»¥â€œï¼ˆæ‘˜è¦ï¼‰â€ä¸ºå¼€å¤´ï¼Œè¾“å‡ºä¸€æ¡å®Œæ•´ã€é€šé¡ºçš„ä¸­æ–‡å¥å­ï¼Œ60â€“80å­—å·¦å³\n\n#ç¤ºä¾‹è¾“å‡º\nâ€œæ‘˜è¦ï¼šçŒ«çœ¼å¨±ä¹æ¨å‡ºâ€˜ç¥ç¬”é©¬è‰¯â€™AIå·¥å…·ï¼Œå®ç°æ™ºèƒ½è§’è‰²åˆ›ä½œä¸åˆ†é•œç”Ÿæˆï¼Œæå‡åˆ›ä½œæ•ˆç‡ï¼Œå¯¹å†…å®¹åˆ›æ–°å…·æœ‰é‡è¦æ¨åŠ¨ä½œç”¨ã€‚â€\n\næ³¨æ„ï¼šé™¤äº†â€œæ ‡é¢˜â€å­—æ®µå¯ä»¥ä¿®æ”¹ï¼Œå…¶ä»–å­—æ®µçš„å†…å®¹ä¸¥æ ¼ä¿æŒå’Œè¾“å…¥ä¸€è‡´ã€‚",
        "hasOutputParser": true,
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        2256,
        1520
      ],
      "id": "20e070d9-3dfb-4fba-b7cb-efb9b91dc8b0",
      "name": "Basic LLM Chain"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"æ ‡é¢˜\":\"xxxx\",\n  \"æ—¥æœŸ\": \"\",\n  \"æ¿å—\": \"æ–°é—»\",\n  \"æ¥æº\":\" AI Valley\",\n  \"é“¾æ¥\":\"http://www.baidu.com\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        2384,
        1744
      ],
      "id": "30b35cbb-421c-4787-ac42-81145f03bad4",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        2256,
        1744
      ],
      "id": "205eaedf-dc25-44b3-94b1-3b3daa88abd1",
      "name": "DeepSeek Chat Model1",
      "credentials": {
        "deepSeekApi": {
          "id": "yt8fyLgfmvOBHB4v",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "resource": "bitable",
        "operation": "bitable:table:record:add",
        "body": "={\"fields\":{\n  \"æ ‡é¢˜\":\"{{ $json['æ ‡é¢˜'] }}\",\n  \"æ—¥æœŸ\":\"{{ $json['æ—¥æœŸ']}}\",\n\"é“¾æ¥\": {\n  \"text\": \"åŸæ–‡é“¾æ¥\",\n  \"link\": \"{{ $json[\"é“¾æ¥\"].replace(/\\n/g, \"\") }}\"\n},\n\"æ¥æº\":\"{{ $json['æ¥æº'] }}\",\n\"æ¿å—\":\"{{ $json['æ¿å—'] }}\"\n}}"
      },
      "type": "n8n-nodes-feishu-lite.feishuNode",
      "typeVersion": 1,
      "position": [
        2816,
        1424
      ],
      "id": "c639506e-129f-498d-a38b-0676658ad951",
      "name": "Feishu Node",
      "credentials": {
        "feishuCredentialsApi": {
          "id": "MNwC16EexOHanHDB",
          "name": "Feishu Credentials account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a8acfac0-6be7-4bd7-b685-744f020dd6b6",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.output[\"æ ‡é¢˜\"] }}",
              "type": "string"
            },
            {
              "id": "4899cbc9-b256-4378-b030-5ed9c4b9f491",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.output['æ—¥æœŸ'] }}",
              "type": "string"
            },
            {
              "id": "21625050-7ccd-48a3-834b-cab3e03f833f",
              "name": "é“¾æ¥",
              "value": "={{ $json.output['é“¾æ¥'] }}",
              "type": "string"
            },
            {
              "id": "7cfb38ff-e2fc-4d06-b3ca-74b6018f80f0",
              "name": "æ¥æº",
              "value": "={{ $json.output['æ¥æº'] }}",
              "type": "string"
            },
            {
              "id": "8733c4af-7829-48fe-85ec-28870d2a94f5",
              "name": "æ¿å—",
              "value": "={{ $json.output[\"æ¿å—\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2592,
        1520
      ],
      "id": "638da3ad-2278-4042-a0ac-299787c83bc3",
      "name": "Edit Fields4"
    },
    {
      "parameters": {
        "url": "={{ $json.url }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
            },
            {
              "name": "Accept",
              "value": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"
            },
            {
              "name": "Accept-Language",
              "value": "en-US,en;q=0.9"
            },
            {
              "name": "Referer",
              "value": "https://www.reddit.com/"
            }
          ]
        },
        "options": {
          "response": {
            "response": {
              "responseFormat": "string"
            }
          },
          "batching": {
            "batch": {
              "batchSize": 1,
              "batchInterval": 2000
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        752,
        1120
      ],
      "id": "79271830-81a8-4a97-a7fd-ce5708e7d04b",
      "name": "HTTP Reddit RSS"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "82679146-929e-400b-866e-dcf036bd4bb5",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.title }}",
              "type": "string"
            },
            {
              "id": "65541a9d-7041-41ec-8b51-87cf75b76554",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.isoDate || new Date($json.pubDate).toISOString() }}",
              "type": "string"
            },
            {
              "id": "885000e0-7cf7-45e1-8757-ced1cd54fc00",
              "name": "é“¾æ¥",
              "value": "={{ $json.link }}",
              "type": "string"
            },
            {
              "id": "3b253c13-45ff-4fbc-a12f-70e3f09c815c",
              "name": "æ¥æº",
              "value": "=Reddit AIæ¿å—",
              "type": "string"
            },
            {
              "id": "1ea5cc4a-4c7c-4a86-afa5-e2cc4e0c8fed",
              "name": "æ¿å—",
              "value": "=Redditçƒ­ç‚¹",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1152,
        1120
      ],
      "id": "77f16169-83ec-4a6e-9a6a-7d995d576a60",
      "name": "Edit Fields12"
    },
    {
      "parameters": {
        "jsCode": "// å°† feeds æ•°ç»„å±•å¼€ä¸ºå¤šä¸ª items\nconst feeds = $input.first().json.feeds || [];\nreturn feeds.map(url => ({\n  json: { url: url }\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        560,
        1120
      ],
      "id": "78c42d20-1bd4-4c83-ad02-7db7c9b69576",
      "name": "Expand Feeds"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"feeds\": [\n    \"https://www.reddit.com/r/ArtificialInteligence/hot/.rss\",\n    \"https://www.reddit.com/r/artificial/hot/.rss\",\n    \"https://www.reddit.com/r/agi/hot/.rss\",\n    \"https://www.reddit.com/r/aivideo/hot/.rss\",\n    \"https://www.reddit.com/r/LocalLLaMA/hot/.rss\",\n    \"https://www.reddit.com/r/personalfinance/hot/.rss\"\n  ]\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        368,
        1120
      ],
      "id": "8ea67db7-e8eb-4cd5-b6a7-0063720ee076",
      "name": "Reddit çƒ­ç‚¹"
    },
    {
      "parameters": {
        "jsCode": "// ä¼˜åŒ–ç‰ˆï¼šè§£æ Reddit RSS/Atom XML ä¸º JSON\nconst xml2js = require('xml2js');\nconst parser = new xml2js.Parser({ explicitArray: false, mergeAttrs: true });\n\nconst items = $input.all();\nconst results = [];\nlet successCount = 0;\nlet errorCount = 0;\n\n// HTML å®ä½“è§£ç å‡½æ•°\nfunction decodeHtml(html) {\n  if (!html) return '';\n  return html\n    .replace(/&amp;/g, '&')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&quot;/g, '\"')\n    .replace(/&#39;/g, \"'\")\n    .replace(/&nbsp;/g, ' ');\n}\n\n// æå–çº¯æ–‡æœ¬ï¼ˆå»é™¤ HTML æ ‡ç­¾ï¼‰\nfunction extractText(html) {\n  if (!html) return '';\n  return html.replace(/<[^>]*>/g, ' ').replace(/\\s+/g, ' ').trim();\n}\n\nfor (let i = 0; i < items.length; i++) {\n  const item = items[i];\n  const xmlData = item.json;\n  \n  if (typeof xmlData !== 'string') {\n    console.log(`Item ${i}: éå­—ç¬¦ä¸²æ•°æ®ï¼Œç±»å‹:`, typeof xmlData);\n    errorCount++;\n    continue;\n  }\n  \n  if (!xmlData.trim()) {\n    console.log(`Item ${i}: ç©ºæ•°æ®`);\n    errorCount++;\n    continue;\n  }\n  \n  try {\n    const parsed = await parser.parseStringPromise(xmlData);\n    \n    // å¤„ç† RSS 2.0 æ ¼å¼\n    if (parsed.rss?.channel?.item) {\n      const posts = Array.isArray(parsed.rss.channel.item) ? parsed.rss.channel.item : [parsed.rss.channel.item];\n      for (const post of posts) {\n        results.push({\n          json: {\n            title: decodeHtml(post.title) || '',\n            link: post.link || '',\n            pubDate: post.pubDate || post['dc:date'] || '',\n            author: post.author || post['dc:creator'] || '',\n            content: extractText(post.description) || '',\n            source: 'RSS'\n          }\n        });\n      }\n      successCount++;\n    }\n    // å¤„ç† Atom æ ¼å¼ï¼ˆReddit ä½¿ç”¨ï¼‰\n    else if (parsed.feed?.entry) {\n      const entries = Array.isArray(parsed.feed.entry) ? parsed.feed.entry : [parsed.feed.entry];\n      for (const entry of entries) {\n        // å¤„ç† Atom çš„ link å­—æ®µ\n        let linkUrl = '';\n        if (entry.link) {\n          if (Array.isArray(entry.link)) {\n          // å¦‚æœæœ‰å¤šä¸ª linkï¼Œæ‰¾ rel=alternate çš„\n            const altLink = entry.link.find(l => l.$?.rel === 'alternate');\n            linkUrl = altLink?.$?.href || entry.link[0]?.$?.href || '';\n          } else if (entry.link.$) {\n            linkUrl = entry.link.$.href || '';\n          } else {\n            linkUrl = entry.link || '';\n          }\n        }\n        \n        // å¤„ç† content\n        let contentText = '';\n        if (entry.content) {\n          if (entry.content._) {\n            contentText = extractText(entry.content._);\n          } else if (typeof entry.content === 'string') {\n            contentText = extractText(entry.content);\n          }\n        }\n        \n        // å¤„ç† category\n        let categories = [];\n        if (entry.category) {\n          if (Array.isArray(entry.category)) {\n            categories = entry.category.map(c => c.$.term || c).filter(Boolean);\n          } else if (entry.category.$) {\n            categories = [entry.category.$.term];\n          } else {\n            categories = [entry.category];\n          }\n        }\n        \n        results.push({\n          json: {\n            title: decodeHtml(entry.title) || '',\n            link: linkUrl,\n            pubDate: entry.published || entry.updated || '',\n            author: entry.author?.name || '',\n            content: contentText,\n            id: entry.id || '',\n            categories: categories,\n            source: 'Reddit Atom'\n          }\n        });\n      }\n      successCount++;\n    } else {\n      console.log(`Item ${i}: æ— æ³•è¯†åˆ«æ ¼å¼`, Object.keys(parsed));\n      errorCount++;\n    }\n  } catch (error) {\n    console.log(`Item ${i}: è§£æé”™è¯¯ -`, error.message);\n    console.log('æ•°æ®å‰200å­—ç¬¦:', xmlData.substring(0, 200));\n    errorCount++;\n  }\n}\n\nconsole.log(`è§£æå®Œæˆ: ${results.length} æ¡å¸–å­, ${successCount} ä¸ªæˆåŠŸ feed, ${errorCount} ä¸ªå¤±è´¥`);\n\nif (results.length === 0) {\n  // è¿”å›ç©ºæ•°ç»„ä¼šä¸­æ–­å·¥ä½œæµï¼Œè¿”å›ä¸€ä¸ªæç¤ºé¡¹\n  return [{\n    json: {\n      title: 'æ— æ•°æ®',\n      link: '',\n      pubDate: new Date().toISOString(),\n      author: '',\n      content: 'æœªèƒ½è§£æåˆ°ä»»ä½•å¸–å­',\n      source: 'Error'\n    }\n  }];\n}\n\nreturn results;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        880,
        1120
      ],
      "id": "45771402-83e9-423b-b1ea-37d76bb785b0",
      "name": "Parse Reddit XML"
    },
    {
      "parameters": {
        "jsCode": "// ä¼˜åŒ–ç‰ˆï¼šç­›é€‰24å°æ—¶å†…çš„å¸–å­\nconst now = Date.now();\nconst posts = $input.all();\nconst results = [];\nlet filteredCount = 0;\nlet errorCount = 0;\n\nfor (const post of posts) {\n  const data = post.json;\n  \n  // è·³è¿‡é”™è¯¯æ ‡è®°çš„é¡¹\n  if (data.source === 'Error') {\n    continue;\n  }\n  \n  if (!data.pubDate) {\n    console.log('è­¦å‘Š: ç¼ºå°‘ pubDate å­—æ®µ', data.title?.substring(0, 50));\n    errorCount++;\n    continue;\n  }\n  \n  try {\n    const pubDate = new Date(data.pubDate);\n    \n    // æ£€æŸ¥æ—¥æœŸæ˜¯å¦æœ‰æ•ˆ\n    if (isNaN(pubDate.getTime())) {\n      console.log('è­¦å‘Š: æ— æ•ˆæ—¥æœŸæ ¼å¼', data.pubDate, data.title?.substring(0, 50));\n      errorCount++;\n      continue;\n    }\n    \n    const hoursAgo = (now - pubDate.getTime()) / (1000 * 60 * 60);\n    \n    if (hoursAgo <= 24) {\n      results.push({\n        json: {\n          ...data,\n          hoursAgo: Math.round(hoursAgo * 10) / 10,\n          isRecent: true\n        }\n      });\n      filteredCount++;\n    }\n  } catch (error) {\n    console.log('æ—¥æœŸå¤„ç†é”™è¯¯:', error.message, data.title?.substring(0, 50));\n    errorCount++;\n  }\n}\n\nconsole.log(`ç­›é€‰å®Œæˆ: ${posts.length} è¾“å…¥, ${filteredCount} æ¡24å°æ—¶å†…, ${errorCount} ä¸ªé”™è¯¯`);\n\n// å¦‚æœæ²¡æœ‰ç»“æœï¼Œè¿”å›æœ€è¿‘çš„ä¸€æ¡ï¼ˆé¿å…å·¥ä½œæµä¸­æ–­ï¼‰\nif (results.length === 0 && posts.length > 0) {\n  const validPosts = posts.filter(p => p.json.pubDate && !isNaN(new Date(p.json.pubDate).getTime()));\n  if (validPosts.length > 0) {\n    // æŒ‰æ—¥æœŸæ’åºï¼Œè¿”å›æœ€æ–°çš„\n    validPosts.sort((a, b) => new Date(b.json.pubDate) - new Date(a.json.pubDate));\n    console.log('æ— 24å°æ—¶å†…å¸–å­ï¼Œè¿”å›æœ€æ–°çš„ä¸€æ¡');\n    return [{\n      json: {\n        ...validPosts[0].json,\n        hoursAgo: Math.round((now - new Date(validPosts[0].json.pubDate).getTime()) / (1000 * 60 * 60) * 10) / 10,\n        isRecent: false,\n        note: 'è¶…è¿‡24å°æ—¶çš„æœ€æ–°å¸–å­'\n      }\n    }];\n  }\n}\n\nreturn results;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1008,
        1120
      ],
      "id": "45771402-83e9-423b-b1ea-37d76bb785b1",
      "name": "24hå†…å¸–å­"
    },
    {
      "parameters": {
        "jsCode": "// å‡è®¾å¼•ç”¨èŠ‚ç‚¹ååˆ†åˆ«æ˜¯ \"Recent30days\" å’Œ \"Video Statistics\"\n// è·å–æ‰€æœ‰ items å¹¶å±•å¼€\nconst searchItems = $items(\"1å¤©å†…è§†é¢‘çƒ­ç‚¹\").map(i => i.json.items).flat();\nconst statItems = $items(\"Video Statistics\").map(i => i.json.items).flat();\n\n// ç”¨ videoId å»ºç«‹ç»Ÿè®¡ä¿¡æ¯æ˜ å°„\nconst statsMap = {};\nstatItems.forEach(s => {\n  statsMap[s.id] = s.statistics;\n});\n\n// åˆå¹¶ä¿¡æ¯å¹¶åŠ ä¸Šè§†é¢‘é“¾æ¥\nconst merged = searchItems.map(s => {\n  const videoId = s.id.videoId;\n  const stats = statsMap[videoId] || {};\n\n  return {\n    json: {\n      videoId: videoId,\n      title: s.snippet.title,\n      description: s.snippet.description,\n      publishTime: s.snippet.publishTime,\n      channelTitle: s.snippet.channelTitle,\n      viewCount: stats.viewCount || 0,\n      likeCount: stats.likeCount || 0,\n      commentCount: stats.commentCount || 0,\n      videoLink: `https://www.youtube.com/watch?v=${videoId}` // ç”Ÿæˆè§†é¢‘é“¾æ¥\n    }\n  };\n});\n\nreturn merged;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1056,
        1360
      ],
      "id": "288fff32-4988-4229-b106-db06f3b745d4",
      "name": "Code in JavaScript3"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        880,
        1360
      ],
      "id": "10d22339-7caf-4b04-9fec-9b2621ae5d60",
      "name": "Merge"
    },
    {
      "parameters": {
        "url": "https://www.googleapis.com/youtube/v3/videos",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "part",
              "value": "statistics"
            },
            {
              "name": "id",
              "value": "={{ $json.videoIdList }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        688,
        1424
      ],
      "id": "74f979db-a962-4d04-b192-bcd5f3110400",
      "name": "Video Statistics",
      "credentials": {
        "httpQueryAuth": {
          "id": "PdutqmuzacWWT5vF",
          "name": "Query Auth account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// æ‰å¹³åŒ–æ‰€æœ‰ items\nlet videoIds = [];\n\n// éå†æ¯ä¸ªè¾“å…¥ item\nitems.forEach(item => {\n  if (item.json.items) {\n    item.json.items.forEach(video => {\n      if (video.id && video.id.videoId) {\n        videoIds.push(video.id.videoId);\n      }\n    });\n  }\n});\n\n// åˆå¹¶æˆé€—å·åˆ†éš”å­—ç¬¦ä¸²\nreturn [\n  {\n    json: {\n      videoIdList: videoIds.join(',')\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        496,
        1424
      ],
      "id": "4f7177e0-2ce2-4755-87a4-c989cb30fb1a",
      "name": "Code in JavaScript4"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        48,
        1360
      ],
      "id": "ad2a6d80-6ecb-4bbe-8cab-b9232eee1980",
      "name": "Date & Time"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "82679146-929e-400b-866e-dcf036bd4bb5",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.title }}",
              "type": "string"
            },
            {
              "id": "65541a9d-7041-41ec-8b51-87cf75b76554",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.publishTime }}",
              "type": "string"
            },
            {
              "id": "885000e0-7cf7-45e1-8757-ced1cd54fc00",
              "name": "é“¾æ¥",
              "value": "={{ $json.videoLink }}",
              "type": "string"
            },
            {
              "id": "3b253c13-45ff-4fbc-a12f-70e3f09c815c",
              "name": "æ¥æº",
              "value": "=çŸ­è§†é¢‘",
              "type": "string"
            },
            {
              "id": "1ea5cc4a-4c7c-4a86-afa5-e2cc4e0c8fed",
              "name": "æ¿å—",
              "value": "=YouTubeçƒ­ç‚¹",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1360,
        1360
      ],
      "id": "52a21721-282f-42ee-b91b-c03d53e71872",
      "name": "Edit Fields13"
    },
    {
      "parameters": {
        "url": "https://api.twitterapi.io/twitter/tweet/advanced_search",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "query",
              "value": "AI"
            },
            {
              "name": "queryType",
              "value": "Top"
            },
            {
              "name": "cursor",
              "value": "="
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        336,
        1696
      ],
      "id": "ae07ceae-b916-4e81-91b5-ae8571906bd4",
      "name": "Get Tweets",
      "credentials": {
        "httpHeaderAuth": {
          "id": "uKMyx3iUxtKZudqk",
          "name": "Header Auth account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Debug log\nconsole.log(\"Input item structure:\", JSON.stringify($input.item, null, 2));\n\n// âœ… ç»Ÿä¸€æŠŠ Twitter çš„ createdAt è½¬æˆ ISO æ ¼å¼\nfunction formatDateToISO(dateString) {\n  if (!dateString) return '';\n  try {\n    // å…¼å®¹ Twitter æ ¼å¼ \"Fri Oct 31 00:41:48 +0000 2025\"\n    const parsed = Date.parse(dateString.replace(\"+0000\", \"UTC\"));\n    if (!isNaN(parsed)) {\n      return new Date(parsed).toISOString(); // e.g. \"2025-10-31T00:41:48.000Z\"\n    }\n    // å¦‚æœè§£æå¤±è´¥ï¼Œç›´æ¥è¿”å›åŸå€¼\n    return dateString;\n  } catch (error) {\n    console.log(\"Error formatting date:\", error);\n    return dateString;\n  }\n}\n\n// âœ… å¦‚æœè¾“å…¥æ˜¯å¤šä¸ªæ¨æ–‡\nif ($input.item.json.tweets && Array.isArray($input.item.json.tweets) && $input.item.json.tweets.length > 0) {\n  const items = $input.item.json.tweets.map(tweet => ({\n    json: {\n      tweetId: tweet.id || '',\n      url: tweet.url || '',\n      content: tweet.text || '',\n      likeCount: tweet.likeCount || 0,\n      retweetCount: tweet.retweetCount || 0,\n      replyCount: tweet.replyCount || 0,\n      quoteCount: tweet.quoteCount || 0,\n      viewCount: tweet.viewCount || 0,\n      createdAt: formatDateToISO(tweet.createdAt) // âœ… ISO æ ¼å¼\n    }\n  }));\n\n  console.log(`Processing ${items.length} tweets`);\n  return items;\n}\n\n// âœ… å•æ¡æ¨æ–‡æƒ…å†µ\nconst tweetData = {\n  tweetId: $input.item.json.id || '',\n  url: $input.item.json.url || '',\n  content: $input.item.json.text || '',\n  likeCount: $input.item.json.likeCount || 0,\n  retweetCount: $input.item.json.retweetCount || 0,\n  replyCount: $input.item.json.replyCount || 0,\n  quoteCount: $input.item.json.quoteCount || 0,\n  viewCount: $input.item.json.viewCount || 0,\n  createdAt: formatDateToISO($input.item.json.createdAt) // âœ… ISO æ ¼å¼\n};\n\nconsole.log(\"Processing single tweet\");\nreturn { json: tweetData };\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        528,
        1696
      ],
      "id": "9feee770-2558-4463-bdf0-bafdd031e53c",
      "name": "Extract Info"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "82679146-929e-400b-866e-dcf036bd4bb5",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.content }}",
              "type": "string"
            },
            {
              "id": "65541a9d-7041-41ec-8b51-87cf75b76554",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.createdAt }}",
              "type": "string"
            },
            {
              "id": "885000e0-7cf7-45e1-8757-ced1cd54fc00",
              "name": "é“¾æ¥",
              "value": "={{ $json.url }}",
              "type": "string"
            },
            {
              "id": "3b253c13-45ff-4fbc-a12f-70e3f09c815c",
              "name": "æ¥æº",
              "value": "=AIçƒ­å¸–",
              "type": "string"
            },
            {
              "id": "1ea5cc4a-4c7c-4a86-afa5-e2cc4e0c8fed",
              "name": "æ¿å—",
              "value": "=Twitterçƒ­ç‚¹",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        912,
        1696
      ],
      "id": "51edbb50-f0d4-4b31-8e72-2e8397926b11",
      "name": "Edit Fields18"
    },
    {
      "parameters": {
        "numberInputs": 4
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        2048,
        1488
      ],
      "id": "4e52aa2d-b768-4114-b78f-ea0fa66383dc",
      "name": "Merge4"
    },
    {
      "parameters": {
        "method": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $json }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        3264,
        1616
      ],
      "id": "1e9450d7-1a81-4034-904f-7c0bed5fa136",
      "name": "HTTP Request1"
    },
    {
      "parameters": {
        "jsCode": "const markdown = $input.first().json.markdown;\n\nreturn [\n  {\n    json: {\n      msg_type: \"interactive\",\n      card: {\n        elements: [\n          {\n            tag: \"markdown\",\n            content: markdown\n          }\n        ]\n      }\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3040,
        1616
      ],
      "id": "780b22a1-d332-431d-bf9a-662b5f74e327",
      "name": "Code in JavaScript6"
    },
    {
      "parameters": {
        "jsCode": "// è·å–ä¸Šæ¸¸è¾“å…¥çš„æ‰€æœ‰æ–°é—»é¡¹\nconst items = $input.all();\n\n// å°†ä¸åŒæ¿å—çš„æ–°é—»åˆ†ç±»\nconst grouped = {};\nfor (const item of items) {\n  const data = item.json;\n  const section = data[\"æ¿å—\"] || \"å…¶ä»–\";\n  if (!grouped[section]) grouped[section] = [];\n  grouped[section].push(data);\n}\n\n// æ—¥æœŸå–ä»Šå¤©\nconst todayDate = new Date();\nconst todayDateStr = todayDate.toISOString().slice(0, 10);\n\n// æ„å»º Markdown è¾“å‡º\nlet md = `# ${todayDateStr} AIçƒ­ç‚¹å°æŠ¥\\n`;\n\n// Redditçƒ­ç‚¹\nif (grouped[\"Redditçƒ­ç‚¹\"] && grouped[\"Redditçƒ­ç‚¹\"].length > 0) {\n  md += `\\nğŸ”¥ **Redditçƒ­ç‚¹**\\n`;\n  grouped[\"Redditçƒ­ç‚¹\"].forEach(n => {\n    md += `- ${n[\"æ ‡é¢˜\"]}\\n${n[\"é“¾æ¥\"]}\\n`;\n  });\n  md += `\\n---\\n\\n`;\n}\n\n// YouTubeçƒ­ç‚¹\nif (grouped[\"YouTubeçƒ­ç‚¹\"] && grouped[\"YouTubeçƒ­ç‚¹\"].length > 0) {\n  md += `\\nğŸ”¥ **YouTubeçƒ­ç‚¹**\\n`;\n\n  // æŒ‰è§†é¢‘ç±»å‹åˆ†ç»„ï¼ˆçŸ­è§†é¢‘ã€ä¸­è§†é¢‘ã€é•¿è§†é¢‘ï¼‰\n  const typeMap = {};\n  grouped[\"YouTubeçƒ­ç‚¹\"].forEach(n => {\n    const type = n[\"æ¥æº\"] || \"å…¶ä»–\";\n    if (!typeMap[type]) typeMap[type] = [];\n    typeMap[type].push(n);\n  });\n\n  // éå†æ¯ä¸ªç±»å‹ï¼Œåªè¾“å‡ºä¸€æ¬¡ç±»å‹æ ‡é¢˜\n  for (const [type, videos] of Object.entries(typeMap)) {\n    md += `\\n**${type}**\\n`;\n    videos.forEach(v => {\n      md += `- ${v[\"æ ‡é¢˜\"]}\\n${v[\"é“¾æ¥\"]}\\n`;\n    });\n  }\n\n  md += `\\n---\\n\\n`;\n}\n\n// Twitterçƒ­ç‚¹\nif (grouped[\"Twitterçƒ­ç‚¹\"] && grouped[\"Twitterçƒ­ç‚¹\"].length > 0) {\n  md += `\\nğŸ”¥ **Twitterçƒ­ç‚¹**\\n`;\n  grouped[\"Twitterçƒ­ç‚¹\"].forEach(n => {\n    md += `- ${n[\"æ ‡é¢˜\"]}\\n${n[\"é“¾æ¥\"]}\\n`;\n  });\n  md += `\\n---\\n\\n`;\n}\n\n// Tiktokçƒ­ç‚¹\nif (grouped[\"TikTokçƒ­ç‚¹\"] && grouped[\"TikTokçƒ­ç‚¹\"].length > 0) {\n  md += `\\nğŸµ **TikTokçƒ­ç‚¹çƒ­ç‚¹**\\n`;\n  grouped[\"TikTokçƒ­ç‚¹\"].forEach(n => {\n    md += `- ${n[\"æ ‡é¢˜\"]}\\n${n[\"é“¾æ¥\"]}\\n`;\n  });\n  md += `\\n---\\n`;\n}\n\nreturn [{ json: { markdown: md.trim() } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2816,
        1616
      ],
      "id": "7d8be036-2a14-4449-a39f-5b3d541152c1",
      "name": "çƒ­ç‚¹å°æŠ¥"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "31de14ae-a0d0-42e6-b968-751936cdd708",
              "leftValue": "={{ Number($json.viewCount) }}",
              "rightValue": 10000,
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            },
            {
              "id": "2ad34fc2-2040-4e22-980e-5fec9003f6c5",
              "leftValue": "={{ Number($json.likeCount) + Number($json.retweetCount) * 2 + Number($json.replyCount) * 1.5 + Number($json.quoteCount) * 2 }}",
              "rightValue": 1000,
              "operator": {
                "type": "number",
                "operation": "gte"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        736,
        1696
      ],
      "id": "fb13a71f-e86c-40e5-923f-ca44149188dd",
      "name": "è§‚çœ‹é‡>1w & çƒ­åº¦è¯„åˆ†"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "31de14ae-a0d0-42e6-b968-751936cdd708",
              "leftValue": "={{ Number($json.viewCount) }}",
              "rightValue": 200000,
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        1200,
        1360
      ],
      "id": "a47182d2-bb96-40bb-ad32-605b61cc7792",
      "name": "ç­›é€‰æ’­æ”¾é‡>20w"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€åAIç§‘æŠ€æ–°é—»ç¼–è¾‘ï¼Œä»»åŠ¡æ˜¯åˆ¤æ–­æ¨æ–‡æ˜¯å¦å…·æœ‰AIç›¸å…³çš„ä¿¡æ¯ä»·å€¼ã€‚\n\nè¾“å…¥ä¿¡æ¯ï¼š\næ ‡é¢˜ï¼š{{ $json[\"æ ‡é¢˜\"] }}\næ¥æºï¼š{{ $json[\"æ¥æº\"] }}\næ—¥æœŸï¼š{{ $json[\"æ—¥æœŸ\"] }}\né“¾æ¥ï¼š{{ $json[\"é“¾æ¥\"] }}\næ¿å—ï¼š{{ $json[\"æ¿å—\"] }}\n\nåˆ¤æ–­æ ‡å‡†ï¼š\n- è‹¥å†…å®¹åŒ…å«AIäº§å“ã€æ¨¡å‹ã€ç ”ç©¶ã€è¶‹åŠ¿ã€è§‚ç‚¹ã€æ”¿ç­–ã€ç¤¾ä¼šå½±å“ç­‰ä¿¡æ¯ â†’ æœ‰ä¿¡æ¯ä»·å€¼ã€‚\n- è‹¥ä»…ä¸ºå›¾ç‰‡ã€æƒ…ç»ªè¡¨è¾¾ã€æ— å…³å¨±ä¹ã€æ“¦è¾¹ã€é—²èŠæˆ–ä¸AIæ— å…³ â†’ æ— ä¿¡æ¯ä»·å€¼ã€‚\n\nç¤ºä¾‹è¾“å‡ºï¼ˆä»…å‚è€ƒç»“æ„ï¼‰ï¼š\n{\n  \"output\": {\n    \"æ ‡é¢˜\": \"{{ $json['æ ‡é¢˜'] }}\",\n    \"æ—¥æœŸ\": \"{{ $json['æ—¥æœŸ'] }}\",\n    \"æ¿å—\": \"{{ $json['æ¿å—'] }}\",\n    \"æ¥æº\": \"{{ $json['æ¥æº'] }}\",\n    \"é“¾æ¥\": \"{{ $json['é“¾æ¥'] }}\",\n    \"æœ‰ä¿¡æ¯ä»·å€¼\": \"true\",\n    \"ç†ç”±\": \"æ¨æ–‡æè¿°äº†AIç ”ç©¶æˆ–äº§å“æ›´æ–°ï¼Œå…·æœ‰ä¿¡æ¯ä»·å€¼\"\n  }\n}\n",
        "hasOutputParser": true,
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        1072,
        1696
      ],
      "id": "a7ffb5ad-79ff-44fa-9cb4-cd368edb77af",
      "name": "Basic LLM Chain1"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"æ ‡é¢˜\":\"xxxx\",\n  \"æ—¥æœŸ\": \"\",\n  \"æ¿å—\": \"æ–°é—»\",\n  \"æ¥æº\":\" AI Valley\",\n  \"é“¾æ¥\":\"http://www.baidu.com\",\n  \"æœ‰ä¿¡æ¯ä»·å€¼\":\"true\",\n  \"ç†ç”±\":\"\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1216,
        1856
      ],
      "id": "4ee35942-bc09-48a2-aa4f-32b9e1e1a664",
      "name": "Structured Output Parser1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        1072,
        1856
      ],
      "id": "30a75357-af4f-483f-ad59-95beb7d21c2d",
      "name": "DeepSeek Chat Model",
      "credentials": {
        "deepSeekApi": {
          "id": "yt8fyLgfmvOBHB4v",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a8acfac0-6be7-4bd7-b685-744f020dd6b6",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.output[\"æ ‡é¢˜\"] }}",
              "type": "string"
            },
            {
              "id": "4899cbc9-b256-4378-b030-5ed9c4b9f491",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.output['æ—¥æœŸ'] }}",
              "type": "string"
            },
            {
              "id": "21625050-7ccd-48a3-834b-cab3e03f833f",
              "name": "é“¾æ¥",
              "value": "={{ $json.output['é“¾æ¥'] }}",
              "type": "string"
            },
            {
              "id": "7cfb38ff-e2fc-4d06-b3ca-74b6018f80f0",
              "name": "æ¥æº",
              "value": "={{ $json.output['æ¥æº'] }}",
              "type": "string"
            },
            {
              "id": "8733c4af-7829-48fe-85ec-28870d2a94f5",
              "name": "æ¿å—",
              "value": "={{ $json.output[\"æ¿å—\"] }}",
              "type": "string"
            },
            {
              "id": "4ce9cd29-f70e-4de6-8df9-36af3aecd618",
              "name": "æœ‰æ— ä¿¡æ¯ä»·å€¼",
              "value": "={{ $json.output[\"æœ‰ä¿¡æ¯ä»·å€¼\"] }}",
              "type": "boolean"
            },
            {
              "id": "3ffd3b47-b8a0-4323-8c3c-bb7803886dec",
              "name": "ç†ç”±",
              "value": "={{ $json.output[\"ç†ç”±\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1408,
        1696
      ],
      "id": "6c942c8b-2f19-4fb9-871c-30997bd3ba0e",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "3e804220-48b8-4cdc-ba4b-892f362d2280",
              "leftValue": "={{ $json[\"æœ‰æ— ä¿¡æ¯ä»·å€¼\"] }}",
              "rightValue": "true",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        1616,
        1696
      ],
      "id": "79ef2053-c6f3-46eb-9ef9-c6269e140b7d",
      "name": "Filter"
    },
    {
      "parameters": {
        "url": "https://tiktok-api23.p.rapidapi.com/api/search/general",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "keyword",
              "value": "AI"
            },
            {
              "name": "cursor",
              "value": "=0"
            },
            {
              "name": "search_id",
              "value": "=0"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "x-rapidapi-host",
              "value": "tiktok-api23.p.rapidapi.com"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        400,
        2032
      ],
      "id": "1822c106-4db4-4840-9eed-f3d05253a6e9",
      "name": "HTTP Request2",
      "credentials": {
        "httpHeaderAuth": {
          "id": "xKKl0zYJqL08FubM",
          "name": "Header Auth account 2"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// å‡è®¾ä¸Šä¸€ä¸ªèŠ‚ç‚¹è¾“å‡ºçš„å®Œæ•´JSONå¯¹è±¡å¯ä»¥é€šè¿‡ items[0].json è®¿é—®\nconst fullResponse = items[0].json;\n\n// 1. ä»æ ¹çº§åˆ«æå– cursor å’Œ search_id\nconst cursor = fullResponse.cursor || null;\n// search_id å¯èƒ½åœ¨ä¸åŒä½ç½®ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥æŒ‰æ‚¨çš„è¦æ±‚ä»æ ¹çº§åˆ«è·å–\n// åŒæ—¶ä¹Ÿæä¾›ä¸€ä¸ªå¤‡é€‰æ–¹æ¡ˆï¼Œä»¥é˜²å®ƒå­˜åœ¨äº log_pb.impr_id ä¸­\nconst searchId = fullResponse.search_id || (fullResponse.log_pb ? fullResponse.log_pb.impr_id : null) || null;\n\n// è·å–è§†é¢‘é¡¹ç›®æ•°ç»„\nconst tiktokData = fullResponse.data;\nconst extractedData = [];\n\n// ç¡®ä¿ tiktokData æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç»„ï¼Œé¿å…åœ¨æ— æ•°æ®æ—¶æŠ¥é”™\nif (Array.isArray(tiktokData)) {\n  for (const item of tiktokData) {\n    // å®‰å…¨åœ°è®¿é—®å¯èƒ½ä¸å­˜åœ¨çš„å±æ€§\n    const itemData = item.item || {}; // å‡å°‘é‡å¤ä¹¦å†™ item.item\n    const authorStats = itemData.authorStats || {};\n    const stats = itemData.stats || {};\n    const videoInfo = itemData.video || {};\n    const authorInfo = itemData.author || {};\n\n    const result = {\n      // ä½œè€…ç»Ÿè®¡ä¿¡æ¯\n      followerCount: authorStats.followerCount || 0,\n      heartCount: authorStats.heartCount || 0,\n      \n      // è§†é¢‘ç»Ÿè®¡ä¿¡æ¯\n      stats: {\n        diggCount: stats.diggCount || 0,\n        shareCount: stats.shareCount || 0,\n        commentCount: stats.commentCount || 0,\n        playCount: stats.playCount || 0,\n        collectCount: stats.collectCount || 0\n      },\n      \n      // è§†é¢‘å…ƒæ•°æ®\n      description: itemData.desc || '',\n      duration: videoInfo.duration || 0,\n      \n      // æ–°å¢ï¼šæå–å‘å¸ƒæ—¶é—´\n      createTime: itemData.createTime ? new Date(itemData.createTime * 1000).toISOString() : null,\n\n      // è§†é¢‘é¡µé¢é“¾æ¥\n      tiktokPostUrl: (authorInfo.uniqueId && itemData.id)\n                   ? `https://www.tiktok.com/@${authorInfo.uniqueId}/video/${itemData.id}`\n                   : null,\n\n      // å°†æå–çš„ cursor å’Œ search_id æ·»åŠ åˆ°æ¯ä¸ªé¡¹ç›®ä¸­\n      cursor: cursor,\n      search_id: searchId\n    };\n\n    extractedData.push(result);\n  }\n}\n\n// è¿”å›æå–å’Œå¤„ç†åçš„æ•°æ®\nreturn extractedData;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        624,
        2032
      ],
      "id": "c7014ad3-4dca-44b0-95ec-7b968f64d98c",
      "name": "Extract Info2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "82679146-929e-400b-866e-dcf036bd4bb5",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.description }}",
              "type": "string"
            },
            {
              "id": "65541a9d-7041-41ec-8b51-87cf75b76554",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.createTime }}",
              "type": "string"
            },
            {
              "id": "885000e0-7cf7-45e1-8757-ced1cd54fc00",
              "name": "é“¾æ¥",
              "value": "={{ $json.tiktokPostUrl }}",
              "type": "string"
            },
            {
              "id": "3b253c13-45ff-4fbc-a12f-70e3f09c815c",
              "name": "æ¥æº",
              "value": "=çŸ­è§†é¢‘",
              "type": "string"
            },
            {
              "id": "1ea5cc4a-4c7c-4a86-afa5-e2cc4e0c8fed",
              "name": "æ¿å—",
              "value": "=TikTokçƒ­ç‚¹",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1360,
        2032
      ],
      "id": "8e08b196-5aaf-4386-a142-3f704c2825c0",
      "name": "Edit Fields24"
    },
    {
      "parameters": {
        "jsCode": "// --- âš™ï¸ å¯é…ç½®å‚æ•° ---\n// åœ¨è¿™é‡Œè°ƒæ•´ç­›é€‰æ ‡å‡†ï¼Œæ‰¾åˆ°æœ€é€‚åˆæ‚¨çš„çˆ†æ¬¾å®šä¹‰\n\n// 1. åŸºç¡€é—¨æ§› (ç”¨äºæ’é™¤æ— æ„ä¹‰çš„æ•°æ®)\nconst MIN_PLAY_COUNT = 100000; // è§†é¢‘æœ€å°‘æ’­æ”¾é‡ï¼Œä½äºæ­¤æ•°å€¼çš„è§†é¢‘ä¸å‚ä¸è®¡ç®—\nconst MIN_FOLLOWER_COUNT = 100; // ä½œè€…æœ€å°‘ç²‰ä¸æ•°ï¼Œé¿å…åˆ†æ¯ä¸º0æˆ–è¿‡å°å¯¼è‡´æ•°æ®å¼‚å¸¸\n\n// 2. çˆ†æ¬¾æŒ‡æ•°é˜ˆå€¼\nconst VIRAL_SCORE_THRESHOLD = 8.0; // è®¡ç®—å‡ºçš„â€œçˆ†æ¬¾æŒ‡æ•°â€å¿…é¡»å¤§äºæ­¤å€¼æ‰è¢«è®¤ä¸ºæ˜¯çˆ†æ¬¾\n\n// 3. æŒ‡æ•°è®¡ç®—æƒé‡ (æ‚¨å¯ä»¥è°ƒæ•´ä¸åŒæŒ‡æ ‡çš„é‡è¦æ€§)\nconst WEIGHTS = {\n  playToFollower: 3.0,  // æ’­æ”¾/ç²‰ä¸æ¯”çš„æƒé‡ (æœ€å…³é”®çš„æŒ‡æ ‡ä¹‹ä¸€)\n  likeToPlay: 1.0,      // ç‚¹èµ/æ’­æ”¾æ¯”çš„æƒé‡\n  commentToPlay: 5.0,   // è¯„è®º/æ’­æ”¾æ¯”çš„æƒé‡ (è¯„è®ºäº’åŠ¨ä»·å€¼æ›´é«˜)\n  shareToPlay: 10.0     // åˆ†äº«/æ’­æ”¾æ¯”çš„æƒé‡ (åˆ†äº«æ˜¯ç—…æ¯’å¼ä¼ æ’­çš„æ ¸å¿ƒ)\n};\n\n// --- æ ¸å¿ƒè®¡ç®—é€»è¾‘ ---\n\nconst inputItems = items;\nconst viralVideos = [];\n\nfor (const item of inputItems) {\n  const video = item.json;\n\n  // --- æ­¥éª¤1: åº”ç”¨åŸºç¡€é—¨æ§›è¿›è¡Œåˆæ­¥è¿‡æ»¤ ---\n  if (video.stats.playCount < MIN_PLAY_COUNT || video.followerCount < MIN_FOLLOWER_COUNT) {\n    continue; // ä¸æ»¡è¶³åŸºç¡€é—¨æ§›ï¼Œè·³è¿‡æ­¤è§†é¢‘\n  }\n  \n  // é¿å…é™¤ä»¥é›¶çš„é”™è¯¯\n  if (video.stats.playCount === 0 || video.followerCount === 0) {\n    continue;\n  }\n\n  // --- æ­¥éª¤2: è®¡ç®—å„é¡¹å…³é”®æ¯”ç‡ ---\n\n  // æ’­æ”¾/ç²‰ä¸æ¯”: è¡¡é‡è§†é¢‘æ˜¯å¦çªç ´äº†ç²‰ä¸åœˆå±‚ï¼Œè§¦è¾¾äº†æ›´å¹¿çš„ç”¨æˆ·\n  const playToFollowerRatio = video.stats.playCount / video.followerCount;\n\n  // ç‚¹èµç‡: è¡¡é‡è§†é¢‘å†…å®¹æ˜¯å¦å—æ¬¢è¿\n  const likeToPlayRatio = video.stats.diggCount / video.stats.playCount;\n\n  // è¯„è®ºç‡: è¡¡é‡è§†é¢‘æ˜¯å¦å¼•å‘äº†ç”¨æˆ·çš„è®¨è®ºå’Œäº’åŠ¨\n  const commentToPlayRatio = video.stats.commentCount / video.stats.playCount;\n\n  // åˆ†äº«ç‡: è¡¡é‡è§†é¢‘çš„ä¼ æ’­æ½œåŠ›\n  const shareToPlayRatio = video.stats.shareCount / video.stats.playCount;\n\n  // --- æ­¥éª¤3: æ ¹æ®æƒé‡è®¡ç®—æ€»çš„â€œçˆ†æ¬¾æŒ‡æ•°â€ ---\n  let viralScore = 0;\n  viralScore += playToFollowerRatio * WEIGHTS.playToFollower;\n  viralScore += likeToPlayRatio * WEIGHTS.likeToPlay;\n  viralScore += commentToPlayRatio * WEIGHTS.commentToPlay;\n  viralScore += shareToPlayRatio * WEIGHTS.shareToPlay;\n\n  // --- æ­¥éª¤4: åˆ¤æ–­æ˜¯å¦ä¸ºçˆ†æ¬¾ ---\n  if (viralScore >= VIRAL_SCORE_THRESHOLD) {\n    // å°†è®¡ç®—å‡ºçš„å…³é”®æ•°æ®é™„åŠ åˆ°è§†é¢‘å¯¹è±¡ä¸Šï¼Œæ–¹ä¾¿åç»­æŸ¥çœ‹å’Œä½¿ç”¨\n    video.viralMetrics = {\n      viralScore: parseFloat(viralScore.toFixed(2)), // ä¿ç•™ä¸¤ä½å°æ•°\n      playToFollowerRatio: parseFloat(playToFollowerRatio.toFixed(2)),\n      likeToPlayRatio: parseFloat(likeToPlayRatio.toFixed(4)),\n      commentToPlayRatio: parseFloat(commentToPlayRatio.toFixed(4)),\n      shareToPlayRatio: parseFloat(shareToPlayRatio.toFixed(4))\n    };\n    \n    viralVideos.push(item); // å°†æ»¡è¶³æ¡ä»¶çš„æ•´ä¸ªitemå¯¹è±¡æ¨å…¥ç»“æœæ•°ç»„\n  }\n}\n\n// è¿”å›ç­›é€‰å‡ºçš„çˆ†æ¬¾è§†é¢‘åˆ—è¡¨\nreturn viralVideos;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        816,
        2032
      ],
      "id": "9b7a46a1-cd68-4b56-bc86-420cbc684a36",
      "name": "çˆ†æ¬¾ç­›é€‰4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "17ae07fc-acfa-4bea-b485-8b4419d552e3",
              "leftValue": "={{ $json.createTime }}",
              "rightValue": "={{ new Date(Date.now() - 14 * 24 * 60 * 60 * 1000).toISOString() }}",
              "operator": {
                "type": "dateTime",
                "operation": "after"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        1056,
        2032
      ],
      "id": "0dc610a3-754f-44a4-b599-f6cce4b27dff",
      "name": "Filter8"
    },
    {
      "parameters": {
        "fieldToSplitOut": "feeds",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        224,
        544
      ],
      "id": "acbfda08-1dca-4752-87c7-4f0f56ccd331",
      "name": "Split Out2"
    },
    {
      "parameters": {
        "url": "=https://www.youtube.com/feeds/videos.xml?channel_id= {{ $json.feeds }}",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        496,
        544
      ],
      "id": "315b242e-bf38-458f-b24f-a070b5457be9",
      "name": "RSS Read4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "a291383a-2989-4e4f-bf9a-34a46c06c3d8",
              "leftValue": "={{ $json.isoDate }}",
              "rightValue": "={{ new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString() }}",
              "operator": {
                "type": "dateTime",
                "operation": "after"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        752,
        544
      ],
      "id": "d3185777-630f-45a0-ba0b-60d386477198",
      "name": "24hå†…3"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c12a8604-4cf6-4450-b62a-34efc6041c92",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.title }}",
              "type": "string"
            },
            {
              "id": "65541a9d-7041-41ec-8b51-87cf75b76554",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.isoDate }}",
              "type": "string"
            },
            {
              "id": "885000e0-7cf7-45e1-8757-ced1cd54fc00",
              "name": "é“¾æ¥",
              "value": "={{ $json.link }}",
              "type": "string"
            },
            {
              "id": "3b253c13-45ff-4fbc-a12f-70e3f09c815c",
              "name": "æ¥æº",
              "value": "={{ $json.author }}",
              "type": "string"
            },
            {
              "id": "1ea5cc4a-4c7c-4a86-afa5-e2cc4e0c8fed",
              "name": "æ¿å—",
              "value": "æ²¹ç®¡åšä¸»",
              "type": "string"
            },
            {
              "id": "a5f44a18-8932-46b1-b1e5-a98cc874d260",
              "name": "åˆ†ç±»",
              "value": "è§†é¢‘",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        976,
        544
      ],
      "id": "bf0408e1-37bb-4a89-b7d1-4a47c5395293",
      "name": "Edit Fields8"
    },
    {
      "parameters": {
        "jsCode": "const markdown = $input.first().json.markdown;\n\nreturn [\n  {\n    json: {\n      msg_type: \"interactive\",\n      card: {\n        elements: [\n          {\n            tag: \"markdown\",\n            content: markdown\n          }\n        ]\n      }\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3264,
        272
      ],
      "id": "7549adaa-1a15-4434-b708-85b432c59e6a",
      "name": "Code in JavaScript2"
    },
    {
      "parameters": {
        "jsCode": "// è·å–ä¸Šæ¸¸è¾“å…¥çš„æ‰€æœ‰æ–°é—»é¡¹\nconst items = $input.all();\n\n// åªä¿ç•™åˆ†ç±»ä¸º â€œäº§å“å‘å¸ƒ/æ›´æ–°â€ æˆ– â€œè¡Œä¸šèµ„è®¯â€ çš„æ•°æ®\nconst filtered = items\n  .map(i => i.json)\n  .filter(n => [\"äº§å“å‘å¸ƒ/æ›´æ–°\", \"è¡Œä¸šèµ„è®¯\", \"è§†é¢‘\"].includes(n[\"åˆ†ç±»\"]));\n\n// å°†æ•°æ®æŒ‰æ¿å—åˆ†ç»„\nconst grouped = {};\nfor (const n of filtered) {\n  const section = n[\"æ¿å—\"] || \"å…¶ä»–\";\n  if (!grouped[section]) grouped[section] = [];\n  grouped[section].push(n);\n}\n\n// æ—¥æœŸå–ä»Šå¤©\nconst todayDate = new Date();\nconst todayDateStr = todayDate.toISOString().slice(0, 10);\n\n// æ„å»º Markdown è¾“å‡º\nlet md = `# ${todayDateStr} AIèµ„è®¯å°æŠ¥\\n`;\n\n// ğŸŒŸ æ˜æ˜Ÿå…¬å¸åŠ¨æ€ï¼ˆåŒæ¥æºåˆå¹¶ï¼‰\nif (grouped[\"æ˜æ˜Ÿå…¬å¸åŠ¨æ€\"] && grouped[\"æ˜æ˜Ÿå…¬å¸åŠ¨æ€\"].length > 0) {\n  md += `\\nğŸŒŸ **æ˜æ˜Ÿå…¬å¸åŠ¨æ€**\\n`;\n  \n  const companyMap = {};\n  grouped[\"æ˜æ˜Ÿå…¬å¸åŠ¨æ€\"].forEach(n => {\n    const source = n[\"æ¥æº\"];\n    if (!companyMap[source]) companyMap[source] = [];\n    companyMap[source].push(`- ${n[\"å†…å®¹\"]}\\n${n[\"é“¾æ¥\"]}`);\n  });\n\n  for (const [source, posts] of Object.entries(companyMap)) {\n    md += `\\n**${source}**\\n${posts.join(\"\\n\")}\\n`;\n  }\n\n  md += `\\n---\\n\\n`;\n}\n\n// ğŸ“° æ–°é—»æ±‡æ€»ï¼ˆæ¥æºï¼šæ ‡é¢˜ + å†…å®¹ + é“¾æ¥ï¼‰\nif (grouped[\"æ–°é—»\"] && grouped[\"æ–°é—»\"].length > 0) {\n  md += `\\nğŸ“° **æ–°é—»æ±‡æ€»**\\n`;\n  grouped[\"æ–°é—»\"].forEach(n => {\n    md += `- ã€Š${n[\"æ¥æº\"]}ã€‹ï¼š${n[\"æ ‡é¢˜\"]}\\n ${n[\"å†…å®¹\"]}\\n${n[\"é“¾æ¥\"]}\\n`;\n  });\n  md += `\\n---\\n\\n`;\n}\n\n// ğŸ•¶ï¸ å¤§ä½¬åŠ¨æ€ï¼ˆåŒæ¥æºåˆå¹¶ï¼‰\nif (grouped[\"å¤§ä½¬åŠ¨æ€\"] && grouped[\"å¤§ä½¬åŠ¨æ€\"].length > 0) {\n  md += `\\nğŸ•¶ï¸ **å¤§ä½¬åŠ¨æ€**\\n`;\n\n  const leaderMap = {};\n  grouped[\"å¤§ä½¬åŠ¨æ€\"].forEach(n => {\n    const source = n[\"æ¥æº\"];\n    if (!leaderMap[source]) leaderMap[source] = [];\n    leaderMap[source].push(`- ${n[\"å†…å®¹\"]}\\n${n[\"é“¾æ¥\"]}`);\n  });\n\n  for (const [source, posts] of Object.entries(leaderMap)) {\n    md += `\\n**${source}**\\n${posts.join(\"\\n\")}\\n`;\n  }\n\n  md += `\\n---\\n\\n`;\n}\n\n// ğŸŒŠ æ²¹ç®¡åšä¸»æ›´æ–°\nif (grouped[\"æ²¹ç®¡åšä¸»\"] && grouped[\"æ²¹ç®¡åšä¸»\"].length > 0) {\n  md += `\\nğŸ«™ **æ²¹ç®¡åšä¸»æ›´æ–°**\\n`;\n  grouped[\"æ²¹ç®¡åšä¸»\"].forEach(n => {\n    md += `- ã€Š${n[\"æ¥æº\"]}ã€‹ï¼š${n[\"æ ‡é¢˜\"]}\\n${n[\"é“¾æ¥\"]}\\n`;\n  });\n  md += `\\n---\\n`;\n}\n\n// è¾“å‡º Markdown\nreturn [{ json: { markdown: md.trim() } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3040,
        272
      ],
      "id": "ef5f0f37-8556-4b42-80e4-347863948856",
      "name": "æ–°é—»å°æŠ¥"
    },
    {
      "parameters": {
        "url": "https://www.theverge.com/rss/ai-artificial-intelligence/index.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        192
      ],
      "id": "fc88892b-ace5-4216-8d78-e1d015c089fc",
      "name": "Theverge"
    },
    {
      "parameters": {
        "url": "https://techcrunch.com/category/artificial-intelligence/feed/",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        384
      ],
      "id": "ee984488-cc82-40b0-8c8a-2daccf2c1e9f",
      "name": "Techcrunch"
    },
    {
      "parameters": {
        "url": "https://www.nytimes.com/svc/collections/v1/publish/https://www.nytimes.com/spotlight/artificial-intelligence/rss.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        0,
        0
      ],
      "id": "2c4986fc-fcde-46ad-bc3f-1d58b6ee41ac",
      "name": "çº½çº¦æ—¶æŠ¥"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c12a8604-4cf6-4450-b62a-34efc6041c92",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.title }}",
              "type": "string"
            },
            {
              "id": "641f0624-c794-4647-bf82-e6b9bc881a1e",
              "name": "å†…å®¹",
              "value": "={{ $json.contentSnippet }}",
              "type": "string"
            },
            {
              "id": "65541a9d-7041-41ec-8b51-87cf75b76554",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.isoDate }}",
              "type": "string"
            },
            {
              "id": "885000e0-7cf7-45e1-8757-ced1cd54fc00",
              "name": "é“¾æ¥",
              "value": "={{ $json.link }}",
              "type": "string"
            },
            {
              "id": "3b253c13-45ff-4fbc-a12f-70e3f09c815c",
              "name": "æ¥æº",
              "value": "çº½çº¦æ—¶æŠ¥",
              "type": "string"
            },
            {
              "id": "1ea5cc4a-4c7c-4a86-afa5-e2cc4e0c8fed",
              "name": "æ¿å—",
              "value": "æ–°é—»",
              "type": "string"
            },
            {
              "id": "28f4877d-e18a-4046-beb1-4823ce14fa46",
              "name": "åˆ†ç±»",
              "value": "",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        224,
        0
      ],
      "id": "7aedd068-f562-41e5-852b-6b728bf60a74",
      "name": "Edit Fields14"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "a291383a-2989-4e4f-bf9a-34a46c06c3d8",
              "leftValue": "={{ $json['æ—¥æœŸ'] }}",
              "rightValue": "={{ new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString() }}",
              "operator": {
                "type": "dateTime",
                "operation": "after"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        768,
        144
      ],
      "id": "fed4ce8f-bc91-4c3e-952f-143b46081b8f",
      "name": "24hå†…5"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€åç§‘æŠ€æ–°é—»ç¼–è¾‘ï¼Œè´Ÿè´£å¯¹ä¸åŒæ¥æºçš„AIæ–°é—»è¿›è¡Œå½’ç±»ã€‚\n\nè¯·é˜…è¯»ä»¥ä¸‹ä¿¡æ¯ï¼š\næ ‡é¢˜ï¼š{{ $json[\"æ ‡é¢˜\"] }}\nå†…å®¹ï¼š{{ $json[\"å†…å®¹\"] }}\næ¥æºï¼š{{ $json[\"æ¥æº\"] }}\næ—¥æœŸï¼š{{ $json[\"æ—¥æœŸ\"] }}\næ¿å—ï¼š{{ $json[\"æ¿å—\"] }}\né“¾æ¥ï¼š{{ $json[\"é“¾æ¥\"] }}\n\nè¯·ä»ä»¥ä¸‹ä¸‰ç±»ä¸­é€‰æ‹©æœ€ç¬¦åˆçš„ç±»åˆ«ï¼Œå¹¶åªè¿”å›ç±»åˆ«åç§°ï¼š\n1. äº§å“å‘å¸ƒ/æ›´æ–°\n2. åšå®¢/ç ”ç©¶/è¯„è®º/æ·±åº¦æŠ¥é“\n3. å…¶ä»–ï¼ˆèèµ„/ç¤¾ä¼šèˆ†è®º/äººäº‹å˜åŠ¨ç­‰ï¼‰\n\nåˆ¤æ–­æ ‡å‡†ï¼š\n- è‹¥æè¿°æ–°äº§å“ã€æ–°åŠŸèƒ½ã€æ–°ç‰ˆæœ¬ã€æ–°æ¨¡å‹ã€APIå˜åŠ¨ â†’ å½’ä¸ºâ€œäº§å“å‘å¸ƒ/æ›´æ–°â€\n- è‹¥è®¨è®ºæŠ€æœ¯ã€ç ”ç©¶ã€åšå®¢ã€è¡Œä¸šè§‚ç‚¹ã€å“²å­¦æ€è€ƒ â†’ å½’ä¸ºâ€œåšå®¢/ç ”ç©¶/è¯„è®º/æ·±åº¦æŠ¥é“â€\n- è‹¥ä¸å…¬å¸èèµ„ã€äººäº‹ã€åˆä½œã€ç¤¾ä¼šè®¨è®ºç›¸å…³ â†’ å½’ä¸ºâ€œå…¶ä»–ï¼ˆèèµ„/ç¤¾ä¼šèˆ†è®º/äººäº‹å˜åŠ¨ç­‰ï¼‰â€\n\nè¦æ±‚ï¼š\n- ä»…è¿”å›ç±»åˆ«åç§°ï¼Œä¾‹å¦‚â€œäº§å“å‘å¸ƒ/æ›´æ–°â€\n- ä¸è¦æ·»åŠ ä»»ä½•é¢å¤–è¯´æ˜æˆ–æ ‡ç‚¹\n- è¾“å‡ºç›´æ¥å¯ç”¨äºæ›´æ–°â€œåˆ†ç±»â€å­—æ®µ\n",
        "hasOutputParser": true,
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        2032,
        160
      ],
      "id": "220dad94-0c71-44f4-a538-11f491412570",
      "name": "Basic LLM Chain2"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"æ ‡é¢˜\":\"xxxx\",\n  \"å†…å®¹\":\"xxxx\",\n  \"æ—¥æœŸ\": \"\",\n  \"æ¿å—\": \"æ–°é—»\",\n  \"åˆ†ç±»\": \"äº§å“å‘å¸ƒ/æ›´æ–°\",\n  \"æ¥æº\":\" AI Valley\",\n  \"é“¾æ¥\":\"http://www.baidu.com\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        2176,
        304
      ],
      "id": "bab012d4-01cf-42ef-9f39-760627dbe8b4",
      "name": "Structured Output Parser2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        2032,
        304
      ],
      "id": "be8ef55e-b6d5-4401-8ca9-3114fdecc3b1",
      "name": "DeepSeek Chat Model2",
      "credentials": {
        "deepSeekApi": {
          "id": "yt8fyLgfmvOBHB4v",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a8acfac0-6be7-4bd7-b685-744f020dd6b6",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.output[\"æ ‡é¢˜\"] }}",
              "type": "string"
            },
            {
              "id": "78d0e361-da9b-43e7-8503-1287048b9d69",
              "name": "å†…å®¹",
              "value": "={{ $json.output[\"å†…å®¹\"] }}",
              "type": "string"
            },
            {
              "id": "4899cbc9-b256-4378-b030-5ed9c4b9f491",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.output['æ—¥æœŸ'] }}",
              "type": "string"
            },
            {
              "id": "21625050-7ccd-48a3-834b-cab3e03f833f",
              "name": "é“¾æ¥",
              "value": "={{ $json.output['é“¾æ¥'] }}",
              "type": "string"
            },
            {
              "id": "7cfb38ff-e2fc-4d06-b3ca-74b6018f80f0",
              "name": "æ¥æº",
              "value": "={{ $json.output['æ¥æº'] }}",
              "type": "string"
            },
            {
              "id": "8733c4af-7829-48fe-85ec-28870d2a94f5",
              "name": "æ¿å—",
              "value": "={{ $json.output[\"æ¿å—\"] }}",
              "type": "string"
            },
            {
              "id": "628de029-1f82-4a6d-bfa1-2262efae4625",
              "name": "åˆ†ç±»",
              "value": "={{ $json.output[\"åˆ†ç±»\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2320,
        160
      ],
      "id": "84634bbb-f693-4eed-b77a-c47f239d6a5c",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "resource": "bitable",
        "operation": "bitable:table:record:add",
        "body": "={\"fields\":{\n  \"æ ‡é¢˜\":\"{{ $json['æ ‡é¢˜'] }}\",\n  \"å†…å®¹\":\"{{ $json['å†…å®¹'] }}\",\n  \"æ—¥æœŸ\":\"{{ $json['æ—¥æœŸ']}}\",\n\"é“¾æ¥\": {\n  \"text\": \"åŸæ–‡é“¾æ¥\",\n  \"link\": \"{{ $json[\"é“¾æ¥\"].replace(/\\n/g, \"\") }}\"\n},\n\"æ¥æº\":\"{{ $json['æ¥æº'] }}\",\n\"æ¿å—\":\"{{ $json['æ¿å—'] }}\",\n\"åˆ†ç±»\":\"{{ $json['åˆ†ç±»'] }}\"\n}}"
      },
      "type": "n8n-nodes-feishu-lite.feishuNode",
      "typeVersion": 1,
      "position": [
        2752,
        0
      ],
      "id": "7364eb36-0b45-4abe-92dc-8b561ca9b365",
      "name": "Feishu Node1",
      "credentials": {
        "feishuCredentialsApi": {
          "id": "MNwC16EexOHanHDB",
          "name": "Feishu Credentials account"
        }
      }
    },
    {
      "parameters": {
        "fieldToSplitOut": "feeds",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        224,
        816
      ],
      "id": "f9c26109-b3d3-497d-8545-b8815cf1e3c9",
      "name": "Split Out"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "82679146-929e-400b-866e-dcf036bd4bb5",
              "name": "å†…å®¹",
              "value": "={{ $json.text }}",
              "type": "string"
            },
            {
              "id": "65541a9d-7041-41ec-8b51-87cf75b76554",
              "name": "æ—¥æœŸ",
              "value": "={{ new Date($json.createdAt).toISOString() }}",
              "type": "string"
            },
            {
              "id": "885000e0-7cf7-45e1-8757-ced1cd54fc00",
              "name": "é“¾æ¥",
              "value": "={{ $json.url }}",
              "type": "string"
            },
            {
              "id": "3b253c13-45ff-4fbc-a12f-70e3f09c815c",
              "name": "æ¥æº",
              "value": "={{ $json.author }}",
              "type": "string"
            },
            {
              "id": "1ea5cc4a-4c7c-4a86-afa5-e2cc4e0c8fed",
              "name": "æ¿å—",
              "value": "=æ˜æ˜Ÿå…¬å¸åŠ¨æ€",
              "type": "string"
            },
            {
              "id": "7da63bcb-bbde-46e0-b364-d27df2cd773c",
              "name": "åˆ†ç±»",
              "value": "",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        896,
        816
      ],
      "id": "2254fba8-3367-40fd-a6de-ec23b7a07af9",
      "name": "Edit Fields22"
    },
    {
      "parameters": {
        "jsCode": "// è·å–ä¸Šæ¸¸è¾“å…¥çš„æ‰€æœ‰æ–°é—»é¡¹\nconst items = $input.all();\n\n// å®šä¹‰æ¿å—æ’åºé¡ºåº\nconst sectionOrder = [\n  \"äº§å“å‘å¸ƒ/æ›´æ–°\",\n  \"åšå®¢/ç ”ç©¶/è¯„è®º/æ·±åº¦æŠ¥é“\",\n  \"å…¶ä»–ï¼ˆèèµ„/ç¤¾ä¼šèˆ†è®º/äººäº‹å˜åŠ¨ç­‰ï¼‰\"\n];\n\n// å¯¹æ–°é—»è¿›è¡Œæ’åº\nitems.sort((a, b) => {\n  const sectionA = a.json.åˆ†ç±» || \"\";\n  const sectionB = b.json.åˆ†ç±» || \"\";\n  const indexA = sectionOrder.indexOf(sectionA);\n  const indexB = sectionOrder.indexOf(sectionB);\n  return indexA - indexB;\n});\n\nreturn items;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2512,
        160
      ],
      "id": "1a7b8a1b-b5d5-44b7-af0c-8690f0bca906",
      "name": "åˆ†ç±»æ’åº"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€åAIç§‘æŠ€æ–°é—»ç¼–è¾‘ï¼Œä»»åŠ¡æ˜¯å°†ä¸åŒæ¥æºçš„æ¨æ–‡å†…å®¹ç¿»è¯‘æˆä¸­æ–‡ï¼Œè¦æ±‚ç®€æ´ã€å‡†ç¡®ã€æœ‰é€»è¾‘ã€‚\n\nè¾“å…¥ä¿¡æ¯ï¼š\nå†…å®¹ï¼š{{ $json['å†…å®¹'] }}\næ—¥æœŸï¼š{{ $json[\"æ—¥æœŸ\"] }}\næ¥æºï¼š{{ $json[\"æ¥æº\"] }}\næ¿å—ï¼š{{ $json[\"æ¿å—\"] }}\né“¾æ¥ï¼š{{ $json[\"é“¾æ¥\"] }}\n\nå¦‚æœå†…å®¹åŸæ–‡å¼€å¤´ä¸ºâ€œï¼ˆè½¬å‘ï¼‰â€ï¼Œè¯·åœ¨è¾“å‡ºå¼€å¤´ä¿ç•™â€œï¼ˆè½¬å‘ï¼‰â€ã€‚\nè‹¥å†…å®¹ç¿»è¯‘æˆä¸­æ–‡åå¤§äºä¸‰å¥è¯ï¼Œåˆ™ç”Ÿæˆä¸€æ®µ60â€“80å­—çš„ä¸­æ–‡æ‘˜è¦ï¼Œéµå¾ªä»¥ä¸‹æ­¥éª¤å’Œæ ¼å¼ï¼š\n\n#æ­¥éª¤\n1. æå–ä¸»è¯­å’Œæ ¸å¿ƒåŠ¨ä½œï¼Œæ ¼å¼ä¸ºâ€œè°åšäº†ä»€ä¹ˆâ€\n2. æ¦‚æ‹¬ä¸»è¦åŠŸèƒ½æˆ–ç”¨é€”ï¼Œæ ¼å¼ä¸ºâ€œå®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Œè¾¾åˆ°ä»€ä¹ˆæ•ˆæœâ€\n3. å¦‚æœ‰äº®ç‚¹æˆ–åˆ›æ–°ç‚¹ï¼Œè¯·åŠ ä»¥æ€»ç»“\n4. å¼ºè°ƒä¸»è§‚æ„ä¹‰æˆ–å½±å“ï¼Œæ ¼å¼ä¸ºâ€œå¯¹ä»€ä¹ˆæœ‰é‡è¦æ„ä¹‰â€\n\n#ç¤ºä¾‹è¾“å‡º\n- æ— ï¼ˆè½¬å‘ï¼‰å­—æ ·ï¼šâ€œçŒ«çœ¼å¨±ä¹æ¨å‡ºâ€˜ç¥ç¬”é©¬è‰¯â€™AIå·¥å…·ï¼Œå®ç°æ™ºèƒ½è§’è‰²åˆ›ä½œä¸åˆ†é•œç”Ÿæˆï¼Œæå‡åˆ›ä½œæ•ˆç‡ï¼Œå¯¹å†…å®¹åˆ›æ–°å…·æœ‰é‡è¦æ¨åŠ¨ä½œç”¨ã€‚â€\n- æœ‰ï¼ˆè½¬å‘ï¼‰å­—æ ·ï¼šâ€œï¼ˆè½¬å‘ï¼‰çŒ«çœ¼å¨±ä¹æ¨å‡ºâ€˜ç¥ç¬”é©¬è‰¯â€™AIå·¥å…·ï¼Œå®ç°æ™ºèƒ½è§’è‰²åˆ›ä½œä¸åˆ†é•œç”Ÿæˆï¼Œæå‡åˆ›ä½œæ•ˆç‡ï¼Œå¯¹å†…å®¹åˆ›æ–°å…·æœ‰é‡è¦æ¨åŠ¨ä½œç”¨ã€‚â€",
        "hasOutputParser": true,
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        1568,
        816
      ],
      "id": "349a8488-5336-42a9-ad53-b330898fdc2e",
      "name": "Basic LLM Chain3"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"å†…å®¹\":\"xxxx\",\n  \"æ—¥æœŸ\": \"\",\n  \"æ¿å—\": \"æ–°é—»\",\n  \"åˆ†ç±»\": \"\",\n  \"æ¥æº\":\" AI Valley\",\n  \"é“¾æ¥\":\"http://www.baidu.com\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1712,
        944
      ],
      "id": "fec73765-990a-4d97-979d-55e3c1249a82",
      "name": "Structured Output Parser3"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        1568,
        944
      ],
      "id": "0d89192a-d89b-432b-812b-5b3e1bcc2f72",
      "name": "DeepSeek Chat Model3",
      "credentials": {
        "deepSeekApi": {
          "id": "yt8fyLgfmvOBHB4v",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "78d0e361-da9b-43e7-8503-1287048b9d69",
              "name": "å†…å®¹",
              "value": "={{ $json.output[\"å†…å®¹\"] }}",
              "type": "string"
            },
            {
              "id": "4899cbc9-b256-4378-b030-5ed9c4b9f491",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.output['æ—¥æœŸ'] }}",
              "type": "string"
            },
            {
              "id": "21625050-7ccd-48a3-834b-cab3e03f833f",
              "name": "é“¾æ¥",
              "value": "={{ $json.output['é“¾æ¥'] }}",
              "type": "string"
            },
            {
              "id": "7cfb38ff-e2fc-4d06-b3ca-74b6018f80f0",
              "name": "æ¥æº",
              "value": "={{ $json.output['æ¥æº'] }}",
              "type": "string"
            },
            {
              "id": "8733c4af-7829-48fe-85ec-28870d2a94f5",
              "name": "æ¿å—",
              "value": "={{ $json.output[\"æ¿å—\"] }}",
              "type": "string"
            },
            {
              "id": "f978cb7b-0dd6-407d-8b19-94fc743cd9f8",
              "name": "åˆ†ç±»",
              "value": "={{ $json.output[\"åˆ†ç±»\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1840,
        816
      ],
      "id": "455a53cc-4bfa-4f42-ac41-b142ecdd0b86",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€åAIç§‘æŠ€æ–°é—»ç¼–è¾‘ï¼Œè´Ÿè´£å¯¹æ¥è‡ªAIæ˜æ˜Ÿå…¬å¸çš„æ¨æ–‡è¿›è¡Œå½’ç±»ã€‚\n\nè¯·é˜…è¯»ä»¥ä¸‹ä¿¡æ¯ï¼š\nå†…å®¹ï¼š{{ $json[\"å†…å®¹\"] }}\næ¥æºï¼š{{ $json[\"æ¥æº\"] }}\næ—¥æœŸï¼š{{ $json[\"æ—¥æœŸ\"] }}\næ¿å—ï¼š{{ $json[\"æ¿å—\"] }}\né“¾æ¥ï¼š{{ $json[\"é“¾æ¥\"] }}\n\nè¯·ä»ä»¥ä¸‹ä¸‰ç±»ä¸­é€‰æ‹©æœ€ç¬¦åˆçš„ç±»åˆ«ï¼Œå¹¶åªè¿”å›ç±»åˆ«åç§°ï¼š\n1. äº§å“å‘å¸ƒ/æ›´æ–°\n2. åšå®¢/ç ”ç©¶/è¯„è®º/æ·±åº¦æŠ¥é“\n3. å…¶ä»–ï¼ˆèèµ„/ç¤¾ä¼šèˆ†è®º/äººäº‹å˜åŠ¨ç­‰ï¼‰\n\nåˆ¤æ–­æ ‡å‡†ï¼š\n- è‹¥æè¿°æ–°äº§å“ã€æ–°åŠŸèƒ½ã€æ–°ç‰ˆæœ¬ã€æ–°æ¨¡å‹ã€APIå˜åŠ¨ â†’ å½’ä¸ºâ€œäº§å“å‘å¸ƒ/æ›´æ–°â€\n- è‹¥è®¨è®ºæŠ€æœ¯ã€ç ”ç©¶ã€åšå®¢ã€è¡Œä¸šè§‚ç‚¹ã€å“²å­¦æ€è€ƒ â†’ å½’ä¸ºâ€œåšå®¢/ç ”ç©¶/è¯„è®º/æ·±åº¦æŠ¥é“â€\n- è‹¥ä¸å…¬å¸èèµ„ã€äººäº‹ã€åˆä½œã€ç¤¾ä¼šè®¨è®ºç›¸å…³ â†’ å½’ä¸ºâ€œå…¶ä»–ï¼ˆèèµ„/ç¤¾ä¼šèˆ†è®º/äººäº‹å˜åŠ¨ç­‰ï¼‰â€\n\nè¦æ±‚ï¼š\n- ä»…è¿”å›ç±»åˆ«åç§°ï¼Œä¾‹å¦‚â€œäº§å“å‘å¸ƒ/æ›´æ–°â€\n- ä¸è¦æ·»åŠ ä»»ä½•é¢å¤–è¯´æ˜æˆ–æ ‡ç‚¹\n- è¾“å‡ºç›´æ¥å¯ç”¨äºæ›´æ–°â€œåˆ†ç±»â€å­—æ®µ\n",
        "hasOutputParser": true,
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        2016,
        816
      ],
      "id": "5c837bb1-94cc-478f-b845-638315d01c57",
      "name": "Basic LLM Chain4"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"å†…å®¹\":\"xxxx\",\n  \"æ—¥æœŸ\": \"\",\n  \"æ¿å—\": \"æ–°é—»\",\n  \"åˆ†ç±»\": \"äº§å“å‘å¸ƒ/æ›´æ–°\",\n  \"æ¥æº\":\" AI Valley\",\n  \"é“¾æ¥\":\"http://www.baidu.com\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        2160,
        944
      ],
      "id": "e742755b-2895-4ee4-bb9d-c04df4462695",
      "name": "Structured Output Parser4"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        2016,
        944
      ],
      "id": "ba3bcb9f-d3bd-440c-afde-e9320d2c683e",
      "name": "DeepSeek Chat Model4",
      "credentials": {
        "deepSeekApi": {
          "id": "yt8fyLgfmvOBHB4v",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "78d0e361-da9b-43e7-8503-1287048b9d69",
              "name": "å†…å®¹",
              "value": "={{ $json.output[\"å†…å®¹\"] }}",
              "type": "string"
            },
            {
              "id": "4899cbc9-b256-4378-b030-5ed9c4b9f491",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.output['æ—¥æœŸ'] }}",
              "type": "string"
            },
            {
              "id": "21625050-7ccd-48a3-834b-cab3e03f833f",
              "name": "é“¾æ¥",
              "value": "={{ $json.output['é“¾æ¥'] }}",
              "type": "string"
            },
            {
              "id": "7cfb38ff-e2fc-4d06-b3ca-74b6018f80f0",
              "name": "æ¥æº",
              "value": "={{ $json.output['æ¥æº'] }}",
              "type": "string"
            },
            {
              "id": "8733c4af-7829-48fe-85ec-28870d2a94f5",
              "name": "æ¿å—",
              "value": "={{ $json.output[\"æ¿å—\"] }}",
              "type": "string"
            },
            {
              "id": "628de029-1f82-4a6d-bfa1-2262efae4625",
              "name": "åˆ†ç±»",
              "value": "={{ $json.output[\"åˆ†ç±»\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2368,
        816
      ],
      "id": "5da1ad74-a653-4076-9b9e-a3c5ecaf16c4",
      "name": "Edit Fields3"
    },
    {
      "parameters": {
        "resource": "bitable",
        "operation": "bitable:table:record:add",
        "body": "={\n  \"fields\": {\n    \"å†…å®¹\": \"{{ $json['å†…å®¹'] }}\",\n    \"æ—¥æœŸ\": \"{{ $json['æ—¥æœŸ'] }}\",\n    \"é“¾æ¥\": {\n      \"text\": \"åŸæ–‡é“¾æ¥\",\n      \"link\": \"{{ $json['é“¾æ¥'].replace(/[\\n\\r]/g,'') }}\"\n    },\n    \"æ¥æº\": \"{{ $json['æ¥æº'] }}\",\n    \"æ¿å—\": \"{{ $json['æ¿å—'] }}\",\n    \"åˆ†ç±»\": \"{{ $json['åˆ†ç±»'] }}\"\n  }\n}\n"
      },
      "type": "n8n-nodes-feishu-lite.feishuNode",
      "typeVersion": 1,
      "position": [
        2720,
        800
      ],
      "id": "9b921a71-d53a-4bc9-8b74-16c6eb604bd1",
      "name": "Feishu Node2",
      "credentials": {
        "feishuCredentialsApi": {
          "id": "MNwC16EexOHanHDB",
          "name": "Feishu Credentials account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// è·å–ä¸Šæ¸¸è¾“å…¥çš„æ‰€æœ‰æ–°é—»é¡¹\nconst items = $input.all();\n\n// å®šä¹‰æ¿å—æ’åºé¡ºåº\nconst sectionOrder = [\n  \"äº§å“å‘å¸ƒ/æ›´æ–°\",\n  \"åšå®¢/ç ”ç©¶/è¯„è®º/æ·±åº¦æŠ¥é“\",\n  \"å…¶ä»–ï¼ˆèèµ„/ç¤¾ä¼šèˆ†è®º/äººäº‹å˜åŠ¨ç­‰ï¼‰\"\n];\n\n// æ¸…ç†å­—ç¬¦ä¸²å‡½æ•°ï¼šå»æ‰æ¢è¡Œã€å›è½¦ï¼Œå¹¶æ›¿æ¢åŒå¼•å·\nconst clean = str => (str || '').replace(/[\\n\\r]/g, ' ').replace(/\"/g, 'â€œ');\n\n// å¯¹æ–°é—»è¿›è¡Œæ’åº\nitems.sort((a, b) => {\n  const sectionA = a.json.åˆ†ç±» || \"\";\n  const sectionB = b.json.åˆ†ç±» || \"\";\n  const indexA = sectionOrder.indexOf(sectionA);\n  const indexB = sectionOrder.indexOf(sectionB);\n  return indexA - indexB;\n});\n\n// å¤„ç†æ¯æ¡æ–°é—»å­—æ®µï¼Œä¿è¯å‘é€ç»™ Feishu ä¸æŠ¥é”™\nconst safeItems = items.map(item => ({\n  json: {\n    å†…å®¹: clean(item.json.å†…å®¹),\n    æ—¥æœŸ: item.json.æ—¥æœŸ,\n    é“¾æ¥: (item.json.é“¾æ¥ || '').replace(/[\\n\\r]/g, ''),\n    æ¥æº: clean(item.json.æ¥æº),\n    æ¿å—: clean(item.json.æ¿å—),\n    åˆ†ç±»: clean(item.json.åˆ†ç±»)\n  }\n}));\n\nreturn safeItems;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2528,
        816
      ],
      "id": "d83d198b-a887-4c7c-be74-395130132c67",
      "name": "åˆ†ç±»æ’åº1"
    },
    {
      "parameters": {
        "jsCode": "// è·å–ä¸Šæ¸¸è¾“å…¥çš„æ‰€æœ‰æ–°é—»é¡¹\nconst items = $input.all();\n\n// åªä¿ç•™æŒ‡å®šåˆ†ç±»çš„æ•°æ®\nconst filtered = items\n  .map(i => i.json)\n  .filter(n => [\"åšå®¢/ç ”ç©¶/è¯„è®º/æ·±åº¦æŠ¥é“\", \"æŠ€æœ¯/ç»éªŒ/è§‚ç‚¹åˆ†äº«\"].includes(n[\"åˆ†ç±»\"]));\n\n// å°†æ•°æ®æŒ‰æ¿å—åˆ†ç»„\nconst grouped = {};\nfor (const n of filtered) {\n  const section = n[\"æ¿å—\"] || \"å…¶ä»–\";\n  if (!grouped[section]) grouped[section] = [];\n  grouped[section].push(n);\n}\n\n// æ—¥æœŸå–ä»Šå¤©\nconst todayDate = new Date();\nconst todayDateStr = todayDate.toISOString().slice(0, 10);\n\n// æ„å»º Markdown è¾“å‡º\nlet md = `# ${todayDateStr} AIå¹²è´§å°æŠ¥\\n`;\n\n// ğŸŒŸ æ˜æ˜Ÿå…¬å¸åŠ¨æ€ï¼ˆåŒæ¥æºåˆå¹¶ï¼‰\nif (grouped[\"æ˜æ˜Ÿå…¬å¸åŠ¨æ€\"] && grouped[\"æ˜æ˜Ÿå…¬å¸åŠ¨æ€\"].length > 0) {\n  md += `\\nğŸŒŸ **æ˜æ˜Ÿå…¬å¸åŠ¨æ€**\\n`;\n  \n  const companyMap = {};\n  grouped[\"æ˜æ˜Ÿå…¬å¸åŠ¨æ€\"].forEach(n => {\n    const source = n[\"æ¥æº\"];\n    if (!companyMap[source]) companyMap[source] = [];\n    companyMap[source].push(`- ${n[\"å†…å®¹\"]}\\n${n[\"é“¾æ¥\"]}`);\n  });\n\n  for (const [source, posts] of Object.entries(companyMap)) {\n    md += `\\n**${source}**\\n${posts.join(\"\\n\")}\\n`;\n  }\n\n  md += `\\n---\\n\\n`;\n}\n\n// ğŸ•¶ï¸ å¤§ä½¬åŠ¨æ€ï¼ˆåŒæ¥æºåˆå¹¶ï¼‰\nif (grouped[\"å¤§ä½¬åŠ¨æ€\"] && grouped[\"å¤§ä½¬åŠ¨æ€\"].length > 0) {\n  md += `\\nğŸ•¶ï¸ **å¤§ä½¬åŠ¨æ€**\\n`;\n\n  const leaderMap = {};\n  grouped[\"å¤§ä½¬åŠ¨æ€\"].forEach(n => {\n    const source = n[\"æ¥æº\"];\n    if (!leaderMap[source]) leaderMap[source] = [];\n    leaderMap[source].push(`- ${n[\"å†…å®¹\"]}\\n${n[\"é“¾æ¥\"]}`);\n  });\n\n  for (const [source, posts] of Object.entries(leaderMap)) {\n    md += `\\n**${source}**\\n${posts.join(\"\\n\")}\\n`;\n  }\n\n  md += `\\n---\\n\\n`;\n}\n\n// ğŸ“° æ–°é—»æ±‡æ€»ï¼ˆæ¥æºï¼šæ ‡é¢˜ + å†…å®¹ + é“¾æ¥ï¼‰\nif (grouped[\"æ–°é—»\"] && grouped[\"æ–°é—»\"].length > 0) {\n  md += `\\nğŸ“° **æ–°é—»æ±‡æ€»**\\n`;\n  grouped[\"æ–°é—»\"].forEach(n => {\n    md += `- ã€Š${n[\"æ¥æº\"]}ã€‹ï¼š${n[\"æ ‡é¢˜\"]}\\n ${n[\"å†…å®¹\"]}\\n${n[\"é“¾æ¥\"]}\\n`;\n  });\n  md += `\\n---\\n`;\n}\n\n// è¾“å‡º Markdown\nreturn [{ json: { markdown: md.trim() } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3040,
        480
      ],
      "id": "0521160d-18d5-45c3-8655-d91e56455532",
      "name": "å¹²è´§å°æŠ¥"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€åAIç§‘æŠ€æ–°é—»ç¼–è¾‘ï¼Œä»»åŠ¡æ˜¯å°†ä¸åŒæ¥æºçš„YouTubeè§†é¢‘æ ‡é¢˜ç¿»è¯‘æˆä¸­æ–‡ï¼Œè¦æ±‚ç®€æ´ã€å‡†ç¡®ã€æœ‰é€»è¾‘ã€‚\n\nè¾“å…¥ä¿¡æ¯ï¼š\næ ‡é¢˜ï¼š{{ $json['æ ‡é¢˜'] }}\næ—¥æœŸï¼š{{ $json[\"æ—¥æœŸ\"] }}\næ¥æºï¼š{{ $json[\"æ¥æº\"] }}\næ¿å—ï¼š{{ $json[\"æ¿å—\"] }}\né“¾æ¥ï¼š{{ $json[\"é“¾æ¥\"] }}",
        "hasOutputParser": true,
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        1616,
        544
      ],
      "id": "0345bf4a-c40d-4b93-af97-fe84b5681441",
      "name": "Basic LLM Chain6"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"æ ‡é¢˜\":\"xxxx\",\n  \"æ—¥æœŸ\": \"\",\n  \"æ¿å—\": \"æ–°é—»\",\n  \"æ¥æº\":\" AI Valley\",\n  \"é“¾æ¥\":\"http://www.baidu.com\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1760,
        672
      ],
      "id": "15ca5b22-4070-478b-a244-a006a7a9ce46",
      "name": "Structured Output Parser6"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        1616,
        672
      ],
      "id": "f6eeaa24-f339-465f-ad3e-6151d7f6fb6b",
      "name": "DeepSeek Chat Model7",
      "credentials": {
        "deepSeekApi": {
          "id": "yt8fyLgfmvOBHB4v",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "78d0e361-da9b-43e7-8503-1287048b9d69",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.output[\"æ ‡é¢˜\"] }}",
              "type": "string"
            },
            {
              "id": "4899cbc9-b256-4378-b030-5ed9c4b9f491",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.output['æ—¥æœŸ'] }}",
              "type": "string"
            },
            {
              "id": "21625050-7ccd-48a3-834b-cab3e03f833f",
              "name": "é“¾æ¥",
              "value": "={{ $json.output['é“¾æ¥'] }}",
              "type": "string"
            },
            {
              "id": "7cfb38ff-e2fc-4d06-b3ca-74b6018f80f0",
              "name": "æ¥æº",
              "value": "={{ $json.output['æ¥æº'] }}",
              "type": "string"
            },
            {
              "id": "8733c4af-7829-48fe-85ec-28870d2a94f5",
              "name": "æ¿å—",
              "value": "={{ $json.output[\"æ¿å—\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2288,
        544
      ],
      "id": "65811312-999a-430a-9490-2c8b681dd6f8",
      "name": "Edit Fields6"
    },
    {
      "parameters": {
        "resource": "bitable",
        "operation": "bitable:table:record:add",
        "body": "={\"fields\":{\n  \"æ ‡é¢˜\":\"{{ $json['æ ‡é¢˜'] }}\",\n  \"æ—¥æœŸ\":\"{{ $json['æ—¥æœŸ']}}\",\n\"é“¾æ¥\": {\n  \"text\": \"åŸæ–‡é“¾æ¥\",\n  \"link\": \"{{ $json[\"é“¾æ¥\"].replace(/\\n/g, \"\") }}\"\n},\n\"æ¥æº\":\"{{ $json['æ¥æº'] }}\",\n\"æ¿å—\":\"{{ $json['æ¿å—'] }}\"\n}}"
      },
      "type": "n8n-nodes-feishu-lite.feishuNode",
      "typeVersion": 1,
      "position": [
        2816,
        640
      ],
      "id": "20476f61-73fb-482d-aee4-d6b73706ff9a",
      "name": "Feishu Node3",
      "credentials": {
        "feishuCredentialsApi": {
          "id": "MNwC16EexOHanHDB",
          "name": "Feishu Credentials account"
        }
      }
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 8
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -224,
        832
      ],
      "id": "285a35b8-1541-4948-9273-0257a2639aa7",
      "name": "Schedule Trigger",
      "retryOnFail": true
    },
    {
      "parameters": {
        "method": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $json }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        3488,
        272
      ],
      "id": "6f741021-4572-4bde-95d1-d33085a782cd",
      "name": "HTTP Request7"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c12a8604-4cf6-4450-b62a-34efc6041c92",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.title }}",
              "type": "string"
            },
            {
              "id": "641f0624-c794-4647-bf82-e6b9bc881a1e",
              "name": "å†…å®¹",
              "value": "={{ $json.contentSnippet }}",
              "type": "string"
            },
            {
              "id": "65541a9d-7041-41ec-8b51-87cf75b76554",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.isoDate }}",
              "type": "string"
            },
            {
              "id": "885000e0-7cf7-45e1-8757-ced1cd54fc00",
              "name": "é“¾æ¥",
              "value": "={{ $json.link }}",
              "type": "string"
            },
            {
              "id": "3b253c13-45ff-4fbc-a12f-70e3f09c815c",
              "name": "æ¥æº",
              "value": "The Verge",
              "type": "string"
            },
            {
              "id": "1ea5cc4a-4c7c-4a86-afa5-e2cc4e0c8fed",
              "name": "æ¿å—",
              "value": "æ–°é—»",
              "type": "string"
            },
            {
              "id": "69feacff-677a-4a6a-a4d8-f298abd50a34",
              "name": "åˆ†ç±»",
              "value": "",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        224,
        192
      ],
      "id": "130f39b6-9bc7-4e70-b2d1-9ffcbc42fbb8",
      "name": "Edit Fields25"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c12a8604-4cf6-4450-b62a-34efc6041c92",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.title }}",
              "type": "string"
            },
            {
              "id": "641f0624-c794-4647-bf82-e6b9bc881a1e",
              "name": "å†…å®¹",
              "value": "={{ $json.contentSnippet }}",
              "type": "string"
            },
            {
              "id": "65541a9d-7041-41ec-8b51-87cf75b76554",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.isoDate }}",
              "type": "string"
            },
            {
              "id": "885000e0-7cf7-45e1-8757-ced1cd54fc00",
              "name": "é“¾æ¥",
              "value": "={{ $json.link }}",
              "type": "string"
            },
            {
              "id": "3b253c13-45ff-4fbc-a12f-70e3f09c815c",
              "name": "æ¥æº",
              "value": "TechCrunch",
              "type": "string"
            },
            {
              "id": "1ea5cc4a-4c7c-4a86-afa5-e2cc4e0c8fed",
              "name": "æ¿å—",
              "value": "æ–°é—»",
              "type": "string"
            },
            {
              "id": "a6ef4a03-3fe0-423a-919e-b50fe11dc7ae",
              "name": "åˆ†ç±»",
              "value": "",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        224,
        384
      ],
      "id": "09688883-098e-4b72-89e2-3e464d8b7a67",
      "name": "Edit Fields26"
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        544,
        128
      ],
      "id": "5f2e037d-9d0d-4e37-8f5e-e1f360f6a870",
      "name": "Merge6"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€åAIç§‘æŠ€æ–°é—»ç¼–è¾‘ï¼Œä»»åŠ¡æ˜¯å°†ä¸åŒæ¥æºçš„AIæ–°é—»æ ‡é¢˜ã€å†…å®¹ç¿»è¯‘æˆä¸­æ–‡ï¼Œè¦æ±‚ç®€æ´ã€å‡†ç¡®ã€æœ‰é€»è¾‘ã€‚\n\nè¾“å…¥ä¿¡æ¯ï¼š\næ ‡é¢˜ï¼š{{ $json[\"æ ‡é¢˜\"] }}\nå†…å®¹ï¼š{{ $json['å†…å®¹'] }}\næ—¥æœŸï¼š{{ $json[\"æ—¥æœŸ\"] }}\næ¥æºï¼š{{ $json[\"æ¥æº\"] }}\næ¿å—ï¼š{{ $json[\"æ¿å—\"] }}\né“¾æ¥ï¼š{{ $json[\"é“¾æ¥\"] }}\n\nè‹¥å†…å®¹ç¿»è¯‘æˆä¸­æ–‡åå¤§äºä¸‰å¥è¯ï¼Œåˆ™ç”Ÿæˆä¸€æ®µ60â€“80å­—çš„ä¸­æ–‡æ‘˜è¦ï¼Œéµå¾ªä»¥ä¸‹æ­¥éª¤å’Œæ ¼å¼ï¼š\n\n#æ­¥éª¤\n1. æå–ä¸»è¯­å’Œæ ¸å¿ƒåŠ¨ä½œï¼Œæ ¼å¼ä¸ºâ€œè°åšäº†ä»€ä¹ˆâ€\n2. æ¦‚æ‹¬ä¸»è¦åŠŸèƒ½æˆ–ç”¨é€”ï¼Œæ ¼å¼ä¸ºâ€œå®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Œè¾¾åˆ°ä»€ä¹ˆæ•ˆæœâ€\n3. å¦‚æœ‰äº®ç‚¹æˆ–åˆ›æ–°ç‚¹ï¼Œè¯·åŠ ä»¥æ€»ç»“\n4. å¼ºè°ƒä¸»è§‚æ„ä¹‰æˆ–å½±å“ï¼Œæ ¼å¼ä¸ºâ€œå¯¹ä»€ä¹ˆæœ‰é‡è¦æ„ä¹‰â€\n\n#ç¤ºä¾‹è¾“å‡º\nâ€œçŒ«çœ¼å¨±ä¹æ¨å‡ºâ€˜ç¥ç¬”é©¬è‰¯â€™AIå·¥å…·ï¼Œå®ç°æ™ºèƒ½è§’è‰²åˆ›ä½œä¸åˆ†é•œç”Ÿæˆï¼Œæå‡åˆ›ä½œæ•ˆç‡ï¼Œå¯¹å†…å®¹åˆ›æ–°å…·æœ‰é‡è¦æ¨åŠ¨ä½œç”¨ã€‚â€\n",
        "hasOutputParser": true,
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        1568,
        160
      ],
      "id": "676ff544-4fa1-45c1-9bd4-c19bd98cb0a5",
      "name": "Basic LLM Chain7"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"æ ‡é¢˜\":\"xxxx\",\n  \"å†…å®¹\":\"xxxx\",\n  \"æ—¥æœŸ\": \"\",\n  \"æ¿å—\": \"æ–°é—»\",\n  \"åˆ†ç±»\": \"\",\n  \"æ¥æº\":\" AI Valley\",\n  \"é“¾æ¥\":\"http://www.baidu.com\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        1712,
        304
      ],
      "id": "1f830e7b-b351-4b34-a9bc-f70c8f7cb95c",
      "name": "Structured Output Parser7"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        1568,
        304
      ],
      "id": "ffcb5f49-d391-4b45-b096-289b7e49e22b",
      "name": "DeepSeek Chat Model8",
      "credentials": {
        "deepSeekApi": {
          "id": "yt8fyLgfmvOBHB4v",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a8acfac0-6be7-4bd7-b685-744f020dd6b6",
              "name": "æ ‡é¢˜",
              "value": "={{ $json.output[\"æ ‡é¢˜\"] }}",
              "type": "string"
            },
            {
              "id": "78d0e361-da9b-43e7-8503-1287048b9d69",
              "name": "å†…å®¹",
              "value": "={{ $json.output[\"å†…å®¹\"] }}",
              "type": "string"
            },
            {
              "id": "4899cbc9-b256-4378-b030-5ed9c4b9f491",
              "name": "æ—¥æœŸ",
              "value": "={{ $json.output['æ—¥æœŸ'] }}",
              "type": "string"
            },
            {
              "id": "21625050-7ccd-48a3-834b-cab3e03f833f",
              "name": "é“¾æ¥",
              "value": "={{ $json.output['é“¾æ¥'] }}",
              "type": "string"
            },
            {
              "id": "7cfb38ff-e2fc-4d06-b3ca-74b6018f80f0",
              "name": "æ¥æº",
              "value": "={{ $json.output['æ¥æº'] }}",
              "type": "string"
            },
            {
              "id": "8733c4af-7829-48fe-85ec-28870d2a94f5",
              "name": "æ¿å—",
              "value": "={{ $json.output[\"æ¿å—\"] }}",
              "type": "string"
            },
            {
              "id": "f978cb7b-0dd6-407d-8b19-94fc743cd9f8",
              "name": "åˆ†ç±»",
              "value": "={{ $json.output[\"åˆ†ç±»\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1872,
        160
      ],
      "id": "aab35693-d7ba-4459-923a-dda3a72e99ef",
      "name": "Edit Fields7"
    },
    {
      "parameters": {
        "url": "https://api.twitterapi.io/twitter/user/last_tweets",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "userName",
              "value": "={{ $json.feeds }}"
            },
            {
              "name": "cursor",
              "value": "="
            }
          ]
        },
        "options": {
          "batching": {
            "batch": {
              "batchSize": 1,
              "batchInterval": 5000
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        448,
        816
      ],
      "id": "b5d56388-f8f1-4920-a790-a3f691b6a94a",
      "name": "Get Tweets2",
      "credentials": {
        "httpHeaderAuth": {
          "id": "uKMyx3iUxtKZudqk",
          "name": "Header Auth account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\nconst results = [];\nconst now = new Date();\n\nfor (const item of items) {\n  const data = item.json.data;\n  if (data && Array.isArray(data.tweets)) {\n    for (const tweet of data.tweets) {\n      const createdAt = new Date(tweet.createdAt);\n      const diffHours = (now - createdAt) / (1000 * 60 * 60);\n\n      // âœ… ä»…ä¿ç•™24å°æ—¶å†…çš„æ¨æ–‡\n      if (diffHours <= 24) {\n        let text = tweet.text || \"\";\n\n        // âœ… å¦‚æœæ˜¯è½¬æ¨ï¼Œç›´æ¥æ›¿æ¢æˆåŸæ¨æ–‡å†…å®¹å¹¶æ ‡æ³¨\n        if (tweet.retweeted_tweet && tweet.retweeted_tweet.text) {\n          text = `ï¼ˆè½¬å‘ï¼‰${tweet.retweeted_tweet.text}`;\n        }\n\n        // âœ… å¦‚æœæœ‰å¼•ç”¨æ¨æ–‡ï¼Œåˆ™é™„åŠ åœ¨åé¢\n        if (tweet.quoted_tweet && tweet.quoted_tweet.text) {\n          text += `\\n\\nğŸ’¬ å¼•ç”¨æ¨æ–‡: ${tweet.quoted_tweet.text}`;\n        }\n\n        results.push({\n          json: {\n            author: tweet.author?.name || \"\",\n            username: tweet.author?.userName || \"\",\n            url: tweet.url,\n            text: text.trim(),\n            likeCount: tweet.likeCount || 0,\n            retweetCount: tweet.retweetCount || 0,\n            replyCount: tweet.replyCount || 0,\n            quoteCount: tweet.quoteCount || 0,\n            viewCount: tweet.viewCount || 0,\n            createdAt: tweet.createdAt,\n          },\n        });\n      }\n    }\n  }\n}\n\nreturn results;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        672,
        816
      ],
      "id": "db1ccac8-c451-4857-a67a-89b50dc66ce9",
      "name": "Extract Info3"
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        2816,
        336
      ],
      "id": "9b30ce49-1c65-420b-b7c8-6b65b70ff011",
      "name": "Merge8"
    },
    {
      "parameters": {
        "method": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $json }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        3488,
        480
      ],
      "id": "4cb13143-f70d-4078-9ccd-f3f51be555ff",
      "name": "HTTP Request8"
    },
    {
      "parameters": {
        "jsCode": "const markdown = $input.first().json.markdown;\n\nreturn [\n  {\n    json: {\n      msg_type: \"interactive\",\n      card: {\n        elements: [\n          {\n            tag: \"markdown\",\n            content: markdown\n          }\n        ]\n      }\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3264,
        480
      ],
      "id": "c5faeee2-4255-43b7-b70c-196f1d415a34",
      "name": "Code in JavaScript5"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"feeds\": [\n    \"UCNJ1Ymd5yFuUPtn21xtRbbw\",\n    \"UChpleBmo18P08aKCIgti38g\",\n    \"UCPjNBjflYl0-HQtUvOx0Ibw\"\n  ]\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        16,
        544
      ],
      "id": "8f45229c-6394-4ce3-b9d2-bdfb41d8f637",
      "name": "æ²¹ç®¡æ›´æ–°"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "{\n  \"feeds\": [\n    \"OpenAI\",\n    \"GoogleDeepMind\",\n    \"GoogleAIStudio\"\n  ]\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        0,
        816
      ],
      "id": "763139f8-d29f-472e-b111-0a4bbb124f36",
      "name": "æ¨ç‰¹æ›´æ–°"
    },
    {
      "parameters": {
        "url": "https://www.googleapis.com/youtube/v3/search",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpQueryAuth",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "part",
              "value": "snippet"
            },
            {
              "name": "q",
              "value": "AI"
            },
            {
              "name": "order",
              "value": "relevance"
            },
            {
              "name": "maxResults",
              "value": "50"
            },
            {
              "name": "regionCode",
              "value": "US"
            },
            {
              "name": "type",
              "value": "video"
            },
            {
              "name": "publishedAfter",
              "value": "={{ new Date(new Date($json.currentDate).getTime() - 24*60*60*1000).toISOString() }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        272,
        1360
      ],
      "id": "88750f8e-54e5-476b-9ab4-c1272dfc574a",
      "name": "1å¤©å†…è§†é¢‘çƒ­ç‚¹",
      "credentials": {
        "httpQueryAuth": {
          "id": "PdutqmuzacWWT5vF",
          "name": "Query Auth account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Edit Fields4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields4": {
      "main": [
        [
          {
            "node": "çƒ­ç‚¹å°æŠ¥",
            "type": "main",
            "index": 0
          },
          {
            "node": "Feishu Node",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Reddit RSS": {
      "main": [
        [
          {
            "node": "Parse Reddit XML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Reddit XML": {
      "main": [
        [
          {
            "node": "24hå†…å¸–å­",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields12": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Expand Feeds": {
      "main": [
        [
          {
            "node": "HTTP Reddit RSS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Reddit çƒ­ç‚¹": {
      "main": [
        [
          {
            "node": "Expand Feeds",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "24hå†…å¸–å­": {
      "main": [
        [
          {
            "node": "Edit Fields12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript3": {
      "main": [
        [
          {
            "node": "ç­›é€‰æ’­æ”¾é‡>20w",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Code in JavaScript3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Video Statistics": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Code in JavaScript4": {
      "main": [
        [
          {
            "node": "Video Statistics",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time": {
      "main": [
        [
          {
            "node": "1å¤©å†…è§†é¢‘çƒ­ç‚¹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields13": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Get Tweets": {
      "main": [
        [
          {
            "node": "Extract Info",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Info": {
      "main": [
        [
          {
            "node": "è§‚çœ‹é‡>1w & çƒ­åº¦è¯„åˆ†",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields18": {
      "main": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge4": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript6": {
      "main": [
        [
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "çƒ­ç‚¹å°æŠ¥": {
      "main": [
        [
          {
            "node": "Code in JavaScript6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è§‚çœ‹é‡>1w & çƒ­åº¦è¯„åˆ†": {
      "main": [
        [
          {
            "node": "Edit Fields18",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç­›é€‰æ’­æ”¾é‡>20w": {
      "main": [
        [
          {
            "node": "Edit Fields13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain1": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser1": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "HTTP Request2": {
      "main": [
        [
          {
            "node": "Extract Info2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Info2": {
      "main": [
        [
          {
            "node": "çˆ†æ¬¾ç­›é€‰4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields24": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "çˆ†æ¬¾ç­›é€‰4": {
      "main": [
        [
          {
            "node": "Filter8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter8": {
      "main": [
        [
          {
            "node": "Edit Fields24",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out2": {
      "main": [
        [
          {
            "node": "RSS Read4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Read4": {
      "main": [
        [
          {
            "node": "24hå†…3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "24hå†…3": {
      "main": [
        [
          {
            "node": "Edit Fields8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields8": {
      "main": [
        [
          {
            "node": "Basic LLM Chain6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript2": {
      "main": [
        [
          {
            "node": "HTTP Request7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ–°é—»å°æŠ¥": {
      "main": [
        [
          {
            "node": "Code in JavaScript2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Theverge": {
      "main": [
        [
          {
            "node": "Edit Fields25",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Techcrunch": {
      "main": [
        [
          {
            "node": "Edit Fields26",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "çº½çº¦æ—¶æŠ¥": {
      "main": [
        [
          {
            "node": "Edit Fields14",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields14": {
      "main": [
        [
          {
            "node": "Merge6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "24hå†…5": {
      "main": [
        [
          {
            "node": "Basic LLM Chain7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain2": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser2": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain2",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "åˆ†ç±»æ’åº",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Get Tweets2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields22": {
      "main": [
        [
          {
            "node": "Basic LLM Chain3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆ†ç±»æ’åº": {
      "main": [
        [
          {
            "node": "Feishu Node1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain3": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser3": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain3",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain3",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "Basic LLM Chain4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain4": {
      "main": [
        [
          {
            "node": "Edit Fields3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser4": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain4",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain4",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields3": {
      "main": [
        [
          {
            "node": "åˆ†ç±»æ’åº1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆ†ç±»æ’åº1": {
      "main": [
        [
          {
            "node": "Feishu Node2",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge8",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "å¹²è´§å°æŠ¥": {
      "main": [
        [
          {
            "node": "Code in JavaScript5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain6": {
      "main": [
        [
          {
            "node": "Edit Fields6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser6": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain6",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model7": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain6",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields6": {
      "main": [
        [
          {
            "node": "Feishu Node3",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge8",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Techcrunch",
            "type": "main",
            "index": 0
          },
          {
            "node": "Theverge",
            "type": "main",
            "index": 0
          },
          {
            "node": "çº½çº¦æ—¶æŠ¥",
            "type": "main",
            "index": 0
          },
          {
            "node": "æ¨ç‰¹æ›´æ–°",
            "type": "main",
            "index": 0
          },
          {
            "node": "æ²¹ç®¡æ›´æ–°",
            "type": "main",
            "index": 0
          },
          {
            "node": "Reddit çƒ­ç‚¹",
            "type": "main",
            "index": 0
          },
          {
            "node": "Date & Time",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get Tweets",
            "type": "main",
            "index": 0
          },
          {
            "node": "HTTP Request2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields25": {
      "main": [
        [
          {
            "node": "Merge6",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Edit Fields26": {
      "main": [
        [
          {
            "node": "Merge6",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Merge6": {
      "main": [
        [
          {
            "node": "24hå†…5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain7": {
      "main": [
        [
          {
            "node": "Edit Fields7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser7": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain7",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model8": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain7",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields7": {
      "main": [
        [
          {
            "node": "Basic LLM Chain2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Tweets2": {
      "main": [
        [
          {
            "node": "Extract Info3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract Info3": {
      "main": [
        [
          {
            "node": "Edit Fields22",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge8": {
      "main": [
        [
          {
            "node": "æ–°é—»å°æŠ¥",
            "type": "main",
            "index": 0
          },
          {
            "node": "å¹²è´§å°æŠ¥",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript5": {
      "main": [
        [
          {
            "node": "HTTP Request8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ²¹ç®¡æ›´æ–°": {
      "main": [
        [
          {
            "node": "Split Out2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ¨ç‰¹æ›´æ–°": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1å¤©å†…è§†é¢‘çƒ­ç‚¹": {
      "main": [
        [
          {
            "node": "Code in JavaScript4",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "f713b2e1-0334-49c7-bc9f-a911bec09d30",
  "meta": {
    "instanceId": "737f7395a244a4b18a7d553a009bdbabe5d0b38d342a9aaabfb98c95a48ec1d1"
  },
  "id": "SDbEpCrT1vf0m3gr",
  "tags": []
}